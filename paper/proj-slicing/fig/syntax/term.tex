\begin{figure}
\begin{syntaxfig}
\mbox{Branch}
&
\kappa
&
::=
&
e
&
\text{term}
\\
&&&
\sigma
&
\text{trie}
\\[2mm]
\mbox{Trie}
&
\sigma, \tau
&
::=
&
\trieVar{x}{\kappa}
&
\text{variable}
\\
&&&
\trieVarProj{x}{\kappa}
&
\\[1mm]
&&&
\trieUnit{\kappa}
&
\text{unit}
\\
&&&
\trieUnitProj{\kappa}
&
\\[1mm]
&&&
\trieSum{\sigma}{\tau}
&
\text{sum}
\\
&&&
\trieSumProjL{\sigma}{\tau}
&
\\
&&&
\trieSumProjR{\sigma}{\tau}
&
\\[1mm]
&&&
\trieProd{\sigma}
&
\text{product}
\\
&&&
\trieProdProj{\sigma}
&
\\[1mm]
&&&
\trieRoll{\sigma}
&
\text{recursive}
\\
&&&
\trieRollProj{\sigma}
&
\\[2mm]
\mbox{Term}
&
e
&
::=
&
x
&
\text{variable}
\\[1mm]
&&&
\exUnit
&
\text{unit}
\\[1mm]
&&&
\exInl{e}
&
\text{inject left}
\\
&&&
\exInlProj{e}
&
\\[1mm]
&&&
\exInr{e}
&
\text{inject right}
\\
&&&
\exInrProj{e}
&
\\[1mm]
&&&
\exPair{e_1}{e_2}
&
\text{pair}
\\
&&&
\exPairProjL{e_1}{e_2}
&
\\
&&&
\exPairProjR{e_1}{e_2}
&
\\[1mm]
&&&
\exFun{\sigma}
&
\text{function}
\\
&&&
\exFunProj{\trieSingletonProj{\sigma}{\exFun{\tau}}}
&
\\[1mm]
&&&
\exApp{e}{e'}
&
\text{application}
\\
&&&
\exAppProjFun{e}{e'}
&
\\[1mm]
&&&
\exRoll{e}
&
\text{roll}
\\
&&&
\exRollProj{e}
&
\end{syntaxfig}
\caption{Terms, branches and tries}
\end{figure}
