\begin{figure}
\flushleft \shadebox{$\exprType{e}{\Gamma}{A}$}
\begin{smathpar}
\inferrule*[right={$x : A \in \Gamma$}]
{
   \strut
}
{
   \Gamma \vdash \exVar{x}: A
}
%
\and
%
\inferrule*
{
}
{
   \Gamma \vdash \exUnit: \tyUnit
}
%
\and
%
\inferrule*
{
   \Gamma \vdash e: A
}
{
   \Gamma \vdash \exInl{e}: \tySum{A}{B}
}
%
\and
%
\inferrule*
{
   \Gamma \vdash e: A
}
{
   \Gamma \vdash \exInlProj{e}: \tySumProjL{A}{B}
}
%
\and
%
\inferrule*
{
   \Gamma \vdash e: B
}
{
   \Gamma \vdash \exInr{e}: \tySum{A}{B}
}
%
\and
%
\inferrule*
{
   \Gamma \vdash e: B
}
{
   \Gamma \vdash \exInrProj{e}: \tySumProjR{A}{B}
}
%
\and
%
\inferrule*
{
   \Gamma \vdash e_1: A
   \\
   \Gamma \vdash e_2: B
}
{
   \Gamma \vdash \exPair{e_1}{e_2}: \tyProd{A}{B}
}
%
\and
%
\inferrule*
{
   \Gamma \vdash e_1: A
   \\
   \Gamma \vdash e_2: B
}
{
   \Gamma \vdash \exPairProjL{e_1}{e_2}: \tyProdProjL{A}{B}
}
%
\and
%
\inferrule*
{
   \Gamma \vdash e_1: A
   \\
   \Gamma \vdash e_2: B
}
{
   \Gamma \vdash \exPairProjR{e_1}{e_2}: \tyProdProjR{A}{B}
}
%
\and
%
\inferrule*
{
   \Gamma \vdash \sigma: \tyFun{A}{B}
}
{
   \Gamma \vdash \exFun{\sigma}: \tyFun{A}{B}
}
%
\and
%
\inferrule*
{
   \Gamma \vdash \elimSingletonProj{\sigma}{\exFun{\tau}}: \tyFunProjR{A}{\tyFun{A'}{B}}
}
{
   \Gamma \vdash \exFunProj{\elimSingletonProj{\sigma}{\exFun{\tau}}}: \tyFunProjR{A}{\tyFun{A'}{B}}
}
%
\and
%
\inferrule*
{
   \Gamma \vdash e: \tyFun{A}{B}
   \\
   \Gamma \vdash e': A
}
{
   \Gamma \vdash \exApp{e}{e'}: B
}
%
\and
%
\inferrule*
{
   \Gamma \vdash e: \tyFun{A}{\tyFunProjR{A'}{B}}
   \\
   \Gamma \vdash e': A'
}
{
   \Gamma \vdash \exAppProjFun{e}{e'}: B
}
%
\and
%
\inferrule*
{
   \Gamma \vdash e: \subst{A}{\tyRec{X}{A}}{X}
}
{
   \Gamma \vdash \exRoll{e}: \tyRec{X}{A}
}
%
\and
%
\inferrule*[right={\textnormal{$A$ closed}}]
{
   \Gamma \vdash e: A
}
{
   \Gamma \vdash \exRollProj{e}: \tyRecProj{X}{A}
}
\end{smathpar}
\caption{Typing rules for terms}
\end{figure}
