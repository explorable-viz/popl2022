\begin{figure}[p]
\flushleft \shadebox{$\alpha, \rho, e \fwdSlice u$}
\begin{smathpar}
   \inferrule*[lab={\ruleName{$\eval{}$-annot}}]
   {
      \alpha \wedge \alpha', \rho, r
      \fwdSlice
      v
   }
   {
      \alpha, \rho, \annot{r}{\alpha'}
      \fwdSlice
      v
   }
\end{smathpar}
\\
\flushleft \shadebox{$\alpha, \rho, r \fwdSlice u$}
\begin{smathpar}
   \inferrule*[
      lab={\ruleName{$\fwdSlice$-var}},
      right={\textnormal{$x: v \in \rho$}}
   ]
   {
   }
   {
      \alpha, \rho, \exVar{x} \fwdSlice v
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-int}}]
   {
   }
   {
      \alpha, \rho, \exInt{n}
      \fwdSlice
      \annot{\exInt{n}}{\alpha}
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-fun}}]
   {
   }
   {
      \alpha, \rho, \exRec{f}{\sigma}
      \fwdSlice
      \annot{\exClosureRec{\rho}{f}{\sigma}}{\alpha}
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-app}}]
   {
      \alpha, \rho, e \fwdSlice \annot{\exClosureRec{\rho'}{f}{\sigma}}{\alpha'}
      \\
      \alpha, \rho, e' \fwdSlice v
      \\\\
      v, \sigma \match \rho^\twoPrime, e^\twoPrime, \alpha^\twoPrime
      \\
      \alpha^\twoPrime,
      \envExtend{(\rho' \concat \rho^\twoPrime)}{f}{\annot{\exClosureRec{\rho'}{f}{\sigma}}{\alpha'}}, e^\twoPrime
      \fwdSlice
      v'
   }
   {
      \alpha, \rho, \exApp{e}{e'} \fwdSlice v'
   }
   %
   \and
   %
   \inferrule*[
      lab={\ruleName{$\eval{}$-app-binary}},
      right={\textnormal{$(k, k') \in \dom{\interpret{\primOp}}$
      }}
   ]
   {
      \rho, e \eval{} T, \annot{k}{\alpha'}
      \\
      \rho, e' \eval{} T', \annot{k'}{\smash{\alpha^\twoPrime}}
   }
   {
      \rho,
      \exPrimApp{e}{\annot{\primOp}{\alpha}}{e'}
      \eval{}
      \trPrimApp{(\explVal{T}{k})}{\primOp}{(\explVal{T'}{k'})},
      \annot{\interpret{\primOp}(k, k')}{\smash{\alpha \wedge \alpha' \wedge \alpha^\twoPrime}}
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\eval{}$-constr}}]
   {
      \rho,
      \vec{e}
      \eval{}
      \vec{T}, \vec{u}
   }
   {
      \rho,
      \exConstr{c}{\vec{e}}
      \eval{}
      \trConstr{c}{\vec{T}}, \exConstr{c}{\vec{u}}
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\eval{}$-match}}]
   {
      \rho, e \eval{} T, u
      \\
      u, \sigma \lookupR \rho_1, \matchProd{\xi}{e'}, \alpha
      \\
      \rho \concat \rho_1, e' \eval{} T', \annot{v}{\alpha'}
   }
   {
      \rho,
      \exMatch{e}{\sigma}
      \eval{}
      \trMatch{T}{\matchPlug{\xi}{T'}}, \annot{v}{\alpha \wedge \alpha'}
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\eval{}$-defs}}]
   {
      \rho, \vec{d} \closeDefs \rho_1, \vec{z}
      \\
      \rho \concat \rho_1, e \eval{} T, u
   }
   {
      \rho, \exDefs{\vec{d}}{e}
      \eval{}
      \trDefs{\vec{z}}{T}, u
   }
\end{smathpar}
\vspace{5pt}

\flushleft \shadebox{$\rho, \vec{e} \eval{} \vec{T}, \vec{u}$}
\begin{smathpar}
   \inferrule*
   {
      \strut
   }
   {
      \rho,
      \seqEmpty
      \eval{}
      \sub{\seqEmpty}{\rho},
      \seqEmpty
   }
   \and
   %
   \inferrule*
   {
      \rho, e \eval{} T, u
      \\
      \rho, \vec{e} \eval{} \vec{T}, \vec{u}
   }
   {
      \rho,
      e \concat \vec{e}
      \eval{}
      T \concat \vec{T},
      u \concat \vec{u}
   }
\end{smathpar}
\caption{Evaluation for terms and term sequences}
\end{figure}
