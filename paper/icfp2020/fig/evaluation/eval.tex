\begin{figure}[H]
\flushleft \shadebox{$\rho, e \eval{} u$}
\begin{smathpar}
\inferrule*[left={\ruleName{$\eval{}$-annot}}]
{
   \rho, r \eval{} \annot{v}{\alpha'}
}
{
   \rho, \annot{r}{\alpha} \eval{} \annot{v}{\alpha \wedge \alpha'}
}
\end{smathpar}
\\
\flushleft \shadebox{$\rho, r \eval{} u$}
\begin{smathpar}
\inferrule*[
   left={\ruleName{$\eval{}$-var}},
   right={$\exThunkVar{x}{u} \in \rho$}
]
{
   \strut
}
{
   \rho, \exVar{x} \eval{} u
}
%
\and
%
\inferrule*[left={\ruleName{$\eval{}$-unit}}]
{
   \strut
}
{
   \rho, \exUnit \eval{} \exUnit
}
%
\and
%
\inferrule*[left={\ruleName{$\eval{}$-inl}}]
{
   \rho, e \eval{} u
}
{
   \rho, \exInl{e} \eval{} \exInl{u}
}
%
\and
%
\inferrule*[left={\ruleName{$\eval{}$-inr}}]
{
   \rho, e \eval{} u
}
{
   \rho, \exInr{e} \eval{} \exInr{u}
}
%
\and
%
\inferrule*[left={\ruleName{$\eval{}$-pair}}]
{
   \rho, e_1 \eval{} u_1
   \\
   \rho, e_2 \eval{} u_2
}
{
   \rho, \exPair{e_1}{e_2} \eval{} \exPair{u_1}{u_2}
}
%
\and
%
\inferrule*[left={\ruleName{$\eval{}$-fun}}]
{
   \strut
}
{
   \rho, \exFun{\sigma} \eval{} \exClosure{\rho}{\exFun{\sigma}}
}
%
\and
%
\inferrule*[left={\ruleName{$\eval{}$-app}}]
{
   \rho, e \eval{} \annot{\exClosure{\rho_1}{\exFun{\sigma}}}{\alpha}
   \\
   \rho, e' \eval{} u
   \\
   u, \sigma \lookupR \rho_2, e^\twoPrime
   \\
   \rho_1 \concat \rho_2, e^\twoPrime \eval{} \annot{v}{\alpha'}
}
{
   \rho, \exApp{e}{e'} \eval{} \annot{v}{\alpha \wedge \alpha'}
}
%
\and
%
\inferrule*[left={\ruleName{$\eval{}$-roll}}]
{
   \rho, e \eval{} u
}
{
   \rho, \exRoll{e} \eval{} \exRoll{u}
}
\end{smathpar}
\caption{Core calculus evaluation (big-step call-by-value)}
\label{fig:evaluation:eval}
\end{figure}
