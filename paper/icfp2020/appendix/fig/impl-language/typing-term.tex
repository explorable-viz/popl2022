\begin{figure}
\flushleft \shadebox{$\exprType{e}{\Gamma}{A}$}
\begin{smathpar}
\inferrule*[right={$x : A \in \Gamma$}]
{
   \strut
}
{
   \exprType{\exVar{x}}{\Gamma}{A}
}
%
\and
%
\inferrule*[right={$\interpret{\exConst{k}} \in \interpret{C}$}]
{
   \strut
}
{
   \exprType{\exConst{k}}{\Gamma}{\tyGround{C}}
}
%
\and
%
\inferrule*[right={
  \textnormal{$\interpret{\primOp} \in \interpret{C_1} \times \interpret{C_2} \to \interpret{A}$}
}]
{
   \exprType{e}{\Gamma}{C}
   \\
   \exprType{e'}{\Gamma}{C'}
}
{
   \exprType{\exPrimApp{e}{\primOp}{e'}}{\Gamma}{A}
}
%
\and
%
\inferrule*
{
   \trieType{\sigma}{\ExprPartial{B}}{A}{\Gamma}
}
{
   \exprType{\exFun{\sigma}}{\Gamma}{\tyFun{A}{B}}
}
%
\and
%
\inferrule*
{
   \exprType{e}{\Gamma}{\tyFun{A}{B}}
   \\
   \exprType{e'}{\Gamma}{A}
}
{
   \exprType{\exApp{e}{e'}}{\Gamma}{B}
}
%
\and
%
\inferrule*[right={\textnormal{$c \in \dom{\interpret{D}}$}}]
{
   \exprType{\vec{e}}{\Gamma}{\interpret{D}(c)}
}
{
   \exprType{\exConstr{c}{\vec{e}}}{\Gamma}{\tyData{D}}
}
%
\and
%
\inferrule*
{
   \exprType{e}{\Gamma}{A}
   \\
   \trieType{\sigma}{\ExprPartial{B}}{A}{\Gamma}
}
{
   \exprType{\exMatch{e}{\sigma}}{\Gamma}{B}
}
%
\and
%
\inferrule*
{
   \Gamma \vdash \vec{d}: \Delta
   \\
   \exprType{e}{\Gamma \concat \Delta}{A}
}
{
   \exprType{\exDefs{\vec{d}}{e}}{\Gamma}{A}
}
\end{smathpar}
\vspace{5pt}

\flushleft \shadebox{$\exprType{\vec{e}}{\Gamma}{\vec{A}}$}
\begin{smathpar}
\inferrule*
{
   \strut
}
{
   \exprType{\seqEmpty}{\Gamma}{\seqEmpty}
}
%
\and
%
\inferrule*
{
   \exprType{e}{\Gamma}{A}
   \\
   \exprType{\vec{e}}{\Gamma}{\vec{A}}
}
{
   \exprType{e \concat \vec{e}}{\Gamma}{A \concat \vec{A}}
}
\end{smathpar}
\caption{Typing rules for terms and term sequences}
\end{figure}
