\begin{frame}
\frametitle{Demand-indexed evaluation}

A \textbf{variable trie} is a special trie which maps \emph{any} value
of type $A$ to a $W$ with a free variable of type $A$.
\begin{mathpar}
\inferrule*[right={$w \in W\;(\Gamma, x: A)$}]
{
   \strut
}
{
   \Gamma \vdash (\Trie{\textcolor{red}{x} \mapsto w)}{W}{A}
}
\end{mathpar}
For example if $W$ is ``terms of type $B$'' then $\Gamma, x: A\;\vdash w: B$.

\vspace{8pt}
\pause Lazy evaluation rule returns a suspension:
\begin{mathpar}
\inferrule*
{
}
{
   \eval{e}{\textcolor{red}{x}\;\mapsto w}{\textcolor{red}{e}}
}
\end{mathpar}
\end{frame}
