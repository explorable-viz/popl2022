\begin{frame}[t]
\frametitle{Demand-indexed evaluation}
\vspace{10pt}
Single elimination form, for any type $A$:
\begin{mathpar}
\inferrule*
{
   \Gamma \vdash e : A
   \\
   \Gamma \vdash \Trie{\sigma}{\exprPartial{B}}{A}
}
{
   \Gamma \vdash \exMatch{e}{\sigma} : B
}
\end{mathpar}
Evaluation rule, for a demand $\Trie{\tau}{W}{B}$:
\begin{mathpar}
\inferrule*
{
  \eval{e}{\sigma}{u}
  \\
  \eval{\substApp{\substFor{u}}{\sigma(u)}}{\tau}{v}
}
{
  \eval{\exMatch{e}{\sigma}}{\tau}{v}
}
\end{mathpar}
\end{frame}
