\begin{frame}
\frametitle{Demand-indexed evaluation}
Typing rule for a demand of type $\tySum{A}{B}$:
\begin{mathpar}
\inferrule*
{
  \Gamma \vdash \Trie{\sigma}{W}{A}
  \\
  \Gamma \vdash \Trie{\tau}{W}{B}
}
{
  \Gamma \vdash \Trie{\trieSum{\sigma}{\tau}}{W}{(\tySum{A}{B})}
}
\end{mathpar}
Evaluation rules (intro only):
\begin{mathpar}
\inferrule*
{
  \eval{e}{\sigma}{v}
}
{
  \eval{\exInl{e}}{\trieSum{\sigma}{\tau}}{\exInl{v}}
}
%
\and
%
\inferrule*
{
  \eval{e}{\tau}{v}
}
{
  \eval{\exInr{e}}{\trieSum{\sigma}{\tau}}{\exInr{v}}
}
\end{mathpar}
\end{frame}
