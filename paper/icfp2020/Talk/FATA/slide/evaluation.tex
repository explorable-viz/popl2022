\begin{frame}
\frametitle{Demand-indexed evaluation}

Now evaluation of $e : A$ takes a demand $\sigma : A \toFin X$:

\[\Eeval{e}{\sigma}{v}{\theta}\]

\begin{itemize}
\item $v$ is the \textbf{greatest approximant} of $e$'s value which is
  precise enough to determine $\sigma(v)$.
\item $\theta$ provides an unevaluated expression for every $\Unk$ in $v$.
\end{itemize}

\pause
At the top-level we would pick $X = \{\star\}$.

\pause
\begin{mathpar}
\inferrule*[left={\textnormal{``Lazy'' rule:}\quad}]
{
}
{
   \Eeval{e}{\textcolor{red}{x}\mapsto a}{\textcolor{red}{x}}{\{x \mapsto e\}}
}
\end{mathpar}
\end{frame}
