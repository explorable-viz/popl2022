\begin{frame}
\frametitle{Demand-indexed evaluation}
Typing rule for a demand of type $\tyProd{A}{B}$:
\begin{mathpar}
\inferrule*
{
  \Trie{\sigma}{\TrieTypePartial{X}{B}}{A}{}
}
{
  \Trie{\langle\sigma\rangle}{X}{(\tyProd{A}{B})}{}
}
\end{mathpar}
Corresponding evaluation rule (intro only):
\begin{mathpar}
\inferrule*
{
  \Eeval{e}{\sigma}{u}{\theta}
  \\
  \Eeval{e'}{\sigma(u)}{v}{\theta'}
}
{
  \Eeval{\exPair{e}{e'}}{\langle\sigma\rangle}{\exPair{u}{v}}{\theta \concat \theta'}
}
\end{mathpar}
\end{frame}
