\begin{figure*}
\fbox{$e \eval v, \sigma$}
\begin{smathpar}
  \inferrule*
  {
    \strut
  }
  {
    \bot
    \eval
    \bot,
    \lambda \bot.\bot
  }
%
\and
%
  \inferrule*
  {
    \strut
  }
  {
    \exVal{x}{v}
    \eval
    v,
    \liftBot{(\lambda u.\exVal{x}{u})}
  }
%
\and
%
  \inferrule*
  {
    \strut
  }
  {
    \exUnit
    \eval
    \exUnit,
    \liftBot{(\lambda \exUnit.\exUnit)}
  }
%
\and
%
  \inferrule*
  {
    e \eval v, \sigma
  }
  {
    \exInl{e}
    \eval
    \exInl{v},
    \liftBot{(\lambda (\exInl{u}).\exInl{\sigma(u)})}
  }
%
\and
%
  \inferrule*
  {
    e \eval \exInl{v}, \sigma
    \\
    \subst{\exVal{x_1}{v}}{x_1}{e_1} \eval v', \sigma_1
  }
  {
    \exCase{e}{x_1}{e_1}{x_2}{e_2}
    \eval
    v',
    \liftBot{\left(\lambda u'.
    \begin{cases}
    \exCase{\sigma(\exInl{u})}{x_1}{{e_1}'}{x_2}{\bot} \\
    \text{where }\sigma_1(u') = \subst{\exVal{u}{x_1}}{x_1}{{e_1}'}
    \end{cases}
    \right)}
  }
%
\and
%
  \inferrule*
  {
    e_1 \eval v_1, \sigma_1
    \\
    e_2 \eval v_2, \sigma_2
  }
  {
    \exPair{e_1}{e_2}
    \eval
    \exPair{v_1}{v_2},
    \liftBot{(\lambda \exPair{u_1}{u_2}.\exPair{\sigma_1(u_1)}{\sigma_2(u_2)})}
  }
%
\and
%
  \inferrule*
  {
    e
    \eval
    \exPair{v_1}{v_2},
    \sigma
  }
  {
    \exFst{e}
    \eval
    v_1,
    \liftBot{(\lambda u_1.\exFst{\sigma\exPair{u_1}{\bot}})}
  }
%
\and
%
  \inferrule*
  {
    \strut
  }
  {
    \exRecFun{f}{x}{e}
    \eval
    \exRecFun{f}{x}{e},
    \liftBot{(\lambda (\exRecFun{f}{x}{e'}).\exRecFun{f}{x}{e'})}
  }
%
\and
%
  \inferrule*[right={$v_1 = \exRecFun{f}{x}{e}$}]
  {
    e_1 \eval v_1, \sigma_1
    \\
    e_2 \eval v_2, \sigma_2
    \\
    \subst{\exVal{x}{v_2}}{x}{\subst{\exVal{f}{v_1}}{f}{e}}
    \eval
    v', \sigma
  }
  {
    \exApp{e_1}{e_2}
    \eval
    v',
    \liftBot{\left(\lambda u'.
    \begin{cases}
    \exApp{\sigma_1((\exRecFun{f}{x}{e'}) \join u_1)}{\sigma_2(u)} \\
    \text{where }\sigma(u') = \subst{\exVal{x}{u_2}}{x}{\subst{\exVal{f}{u_1}}{f}{e'}}
    \end{cases}
    \right)}
  }
%
\and
%
  \inferrule*
  {
    e \eval v, \sigma
  }
  {
    \exRoll{e}
    \eval
    \exRoll{v},
    \liftBot{(\lambda (\exRoll{u}).\exRoll{\sigma(u)})}
  }
%
\and
%
  \inferrule*
  {
    e
    \eval
    \exRoll{v},
    \sigma
  }
  {
    \exUnroll{e}
    \eval
    v,
    \liftBot{(\lambda u.\exUnroll{\sigma(\exRoll{u})})}
  }
\end{smathpar}
\caption{Big-step CBV evaluation, computing lower adjoint $\sigma$}
\end{figure*}
