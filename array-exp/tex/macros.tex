\newcommand\grayuline{\bgroup\markoverwith{\textcolor{gray}{\rule[-0.9ex]{2pt}{0.4pt}}}\ULon}
% \newcommand*{\del}[1]{\grayuline{\textcolor{gray}{\smash{#1}}}}

\renewcommand*{\ldots}{...} % \ldots sucks with acmart
\renewcommand*{\ruleName}[1]{\textcolor{gray}{\textnormal{\textsf{#1}}}}

% Section symbol.
\renewcommand*{\secref}{\Secref}
\renewcommand*{\secrefTwo}{\SecrefTwo}

% Use this in place of \mathsf.
\newcommand*{\mathSf}[1]{\textup{\textsf{#1}}}
\newcommand*{\Set}[1]{\mathSf{#1}}

\newcommand*{\Int}{\mathbb{Z}}
\newcommand*{\Pow}[1]{\MnSymbolpowerset({#1})}
\newcommand*{\id}{\textsf{id}}
\newcommand*{\adjoint}{\dashv}

% Vectors.
\newcommand*{\override}{\reloverrideleft}
\newcommand*{\seqEmpty}{\varepsilon}

% Primitives.
\newcommand*{\primOp}{\oplus}

% Annotations.
\newcommand*{\annot}[2]{#1_{#2}}

\newcommand*{\sym}[1]{\textbf{\kw{#1}}}
\newcommand*{\symCons}{\sym{:}}

\newcommand*{\matrixLBrack}{\langle}
\newcommand*{\matrixRBrack}{\rangle}

% Expressions.
\newcommand*{\exApp}[2]{{#1}\,{#2}}
\newcommand*{\exBinaryApp}[3]{{#1} \mathbin{#2} {#3}}
\newcommand*{\exCons}[2]{{#1}\,\symCons\,{#2}}
\newcommand*{\exClosure}[3]{\kw{cls}({#1},{#2},{#3})}
\newcommand*{\exClosureRec}[4]{\sub{\kw{cls}}{#1}({#2},{#3},{#4})}
\newcommand*{\exFalse}{\kw{false}}
\newcommand*{\exFun}[2]{#1\,#2}
\newcommand*{\exIfThenElse}[3]{\kw{if}\;{#1}\;\kw{then}\;{#2}\;\kw{else}\;{#3}}
\newcommand*{\exInt}[1]{#1}
\newcommand*{\exList}[2]{\kw{[}\;#1 \ #2}
\newcommand*{\exListComp}[2]{\kw{[}\,{#1}\;\sym{$\vert$}\;{#2}\,\kw{]}}
\newcommand*{\exListEnum}[2]{\kw{[}\,{#1}\;\kw{..}\;{#2}\,\kw{]}}
\newcommand*{\exLambda}[1]{\uplambda{#1}}
\newcommand*{\exLet}[3]{\kw{let}\;{#1}\equal{#2}\;\kw{in}\;{#3}}
\newcommand*{\exLetRecEquational}[3]{\kw{let}\;{#1}\;{#2}\;\kw{in}\;{#3}}
\newcommand*{\exLetRec}[3]{\kw{let}\,\exRec{#1}{#2}\;\kw{in}\;{#3}}
\newcommand*{\exLetRecMutual}[2]{\kw{let}\;{#1}\;\kw{in}\;{#2}}
\newcommand*{\exMatch}[2]{\kw{match}~{#1}~\kw{as}\;{#2}}
\newcommand*{\exMatrix}[4]{\matrixLBrack{#1}\;\sym{$\vert$}\;\exPair{#2}{#3}\;\kw{in}\;{#4}\matrixRBrack}
\newcommand*{\exMatrixAccess}[2]{{#1}\,\sym{!}\,{#2}}
\newcommand*{\exMatrixDims}[1]{\kw{dims}\;{#1}}
\newcommand*{\exNil}{\kw{[]}}
\newcommand*{\exOp}[1]{(#1)}
\newcommand*{\exPair}[2]{(#1,#2)}
\newcommand*{\exPrim}[1]{#1}
\newcommand*{\exRec}[2]{{#1}{#2}}
\newcommand*{\exTrue}{\kw{true}}
\newcommand*{\exVar}[1]{#1}

\renewcommand*{\lowlight}[1]{\textcolor{gray}{#1}}

% Types.
\newcommand*{\tyMatrix}[1]{\kw{Matrix}\;{#1}}
\newcommand*{\tyBool}[0]{\kw{Bool}}
\newcommand*{\tyNat}[0]{\kw{Nat}}
\newcommand*{\tyList}[1]{\kw{List}\;{#1}}
\newcommand*{\tyVec}[2]{\kw{Vec}\;{#1}\;{#2}}
\newcommand*{\tyProd}[2]{{#1}\times{#2}}
\newcommand*{\tyFun}[2]{{#1}\rightarrow{#2}}

% Sets
\newcommand*{\Below}[1]{{\downarrow{#1}}}
\newcommand*{\Id}[1]{\Set{Id}_{#1}}
\newcommand*{\Idx}[1]{\Set{Idx}(#1)}

% Misc
\newcommand*{\bind}[2]{(#1:#2)}
\renewcommand*{\vec}[1]{\vv{#1}}
\newcommand*{\seq}[1]{\vv{#1}}
\newcommand*{\seqRange}[2]{\seqRangeOp{#1}{#2}{\concat}}
\newcommand*{\setRange}[2]{\set{{#1 .. {#2}}}}
\newcommand*{\seqRangeOp}[3]{{#1} #3 .. #3 {#2}}
