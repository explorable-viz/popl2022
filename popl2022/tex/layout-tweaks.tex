\everymath{\displaystyle}

\allowdisplaybreaks

% I find the align environments use a bit too much vertical spacing.
\addtolength{\jot}{-0.25em}
\def\arraystretch{1.1}
\setlength{\arraycolsep}{3pt}

\raggedbottom % sane vertical paragraph justification

\hypersetup{ % not using recent enough version of hyperref for [hidelinks] option
    colorlinks=false,
    pdfborder={0 0 0},
}

\captionsetup[subfigure]{aboveskip=0pt,belowskip=0pt} % not sure if this is doing anything

\newcommand*{\formatLink}[1]{\ul{#1}}
\newcommand*{\Href}[2]{\href{#1}{\formatLink{#2}}}

\DeclareRobustCommand{\codeErase}[1]{{\sethlcolor{lightgray}\hl{#1}}}
\definecolor{Yellow}{RGB}{255,255,0}
\DeclareRobustCommand{\codeSel}[1]{{\sethlcolor{Yellow}\hl{#1}}}

\newbool{anonymous}

\makeatletter
\if@ACM@anonymous
   \booltrue{anonymous}%
\else
   \boolfalse{anonymous}%
\fi
\makeatother

\newcommand*{\hshade}[1]{\colorbox{gray!15}{\parbox[c][0.6em]{\dimexpr\textwidth-2\fboxsep}{#1}}}
