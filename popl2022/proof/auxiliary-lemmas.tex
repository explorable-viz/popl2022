\subsection{Auxiliary lemmas}

\begin{definition}
   Suppose $r \dfwdarrow e$. Define $\desugarListRestFwdF{r}: \Below{r} \to \Below{e}$ and $\desugarListRestBwdF{r}: \Below{e} \to \Below{r}$ to be $\desugarFwd$ domain-restricted to $\Below{r}$ and $\desugarBwd{r}$ domain-restricted to $\Below{e}$ respectively. Then:
\end{definition}

\begin{lemma}[Galois connection for desugaring list rest]
  \label{lem:aux:desugarlistrest:gc}
  Suppose $r \dfwdarrow e$. Then:
  \begin{enumerate}
     \item $\desugarListRestFwdF{r}$ and $\desugarListRestBwdF{r}$ are monotonic.
     \item $\desugarListRestFwdF{r}(\desugarListRestBwdF{r}(e')) \geq e'$.
     \item $\desugarListRestBwdF{r}(\desugarListRestFwdF{r}(r')) \leq r'$.
  \end{enumerate}
\end{lemma}

\begin{definition}
   Suppose $p, e \clauseFwd \sigma$. Define $\clauseFwdF{\clause{p}{e}}: \Below{(p,e)} \to \Below{\sigma}$ and $\clauseBwdF{\clause{p}{e}}: \Below{\sigma} \to \Below{(p,e)}$ to be $\clauseFwd$ domain-restricted to $\Below{(p,e)}$ and $\clauseBwd{p}$ domain-restricted to $\Below{\sigma}$ respectively. Then:
\end{definition}

\begin{lemma}[Galois connection for clause]
  \label{lem:aux:clause:gc}
  Suppose $p, e \clauseFwd \sigma$. Then:
  \begin{enumerate}
     \item $\clauseFwdF{\clause{p}{e}}$ and $\clauseBwdF{\clause{p}{e}}$ are monotonic.
     \item $\clauseFwdF{\clause{p}{e}}(\clauseBwdF{\clause{p}{e}}(\sigma')) \geq \sigma'$.
     \item $\clauseBwdF{\clause{p}{e}}(\clauseFwdF{\clause{p}{e}}(p,e')) \leq (p,e')$.
  \end{enumerate}
\end{lemma}

\begin{lemma}[Galois connection for clauses]
  \label{lem:aux:clauses:gc}
  Suppose $\vec{c} \dfwdarrow \sigma$. Then:
  \begin{enumerate}
     \item $\desugarClausesFwdF{\vec{c}}$ and $\desugarClausesBwdF{\vec{c}}$ are monotonic.
     \item $\desugarClausesFwdF{\vec{c}}(\desugarClausesBwdF{\vec{c}}(\sigma')) \geq \sigma'$.
     \item $\desugarClausesBwdF{\vec{c}}(\desugarClausesFwdF{\vec{c}}(\vec{c})) \leq \vec{c}'$.
  \end{enumerate}
\end{lemma}

\begin{lemma}[Galois connection for list generator]
  \label{lem:aux:list-gen:gc}
  \item
  \begin{itemize}
    \item Define $e, \alpha \listGenFwd \sigma $ iff there exists $\sigma'$ with $\clauseUncurried{p}{e} \clauseFwd \sigma'$ and $\totalise{\sigma'}{\alpha}{\sigma}$.
    \item Define $\sigma \listGenBwd{\clauseUncurried{p}{e}} e', \alpha$ iff there exists $\sigma'$ with $\totalisebwd{\sigma}{p}{\sigma'}{\alpha}$ and $\sigma' \clauseBwd{\clauseUncurried{p}{e}} \clauseUncurried{p}{e'}$.
  \end{itemize}
  Suppose $\clauseUncurried{p}{e} \clauseFwd \sigma'$ and $\totalise{\sigma'}{\alpha}{\sigma}$. Then:
  \begin{enumerate}
     \item $\listGenFwd$ domain-restricted to $\Below{(e, \alpha)}$ is a monotonic function $\listGenFwdF{p, e, \alpha}$ to $\Below{\sigma}$.
     \item $\listGenBwd{\clauseUncurried{p}{e}}$ domain-restricted to $\Below{\sigma}$ is a monotonic function $\listGenBwdF{p, e, \alpha}$ to $\Below{(e, \alpha)}$.
     \item $\listGenFwdF{p, e, \alpha}(\listGenBwdF{p, e, \alpha}(\tau)) \geq \tau$.
     \item $\listGenBwdF{p, e, \alpha}(\listGenFwdF{p, e, \alpha}(e', \alpha')) \leq (e', \alpha')$.
  \end{enumerate}
\end{lemma}
