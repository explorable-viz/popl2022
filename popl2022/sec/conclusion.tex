\section{Conclusion}
\label{sec:conclusion}

Our research was motived by the goal of making computational outputs which are automatically able to reveal how they relate to data in a fine-grained way. A casual reader who wants to understand or fact-check a chart, or a scientist evaluating another's work, should be able to do so by interacting directly with outputs. Recent work by \citeauthor{walny19} suggests that developers would also benefit from such a feature while implementing visualisations, for example to check whether a quantity is represented by diameter or area in a bubble chart \cite{walny19}.

Galois connections provide an appealing setting for this problem because of their nice round-tripping properties. However,  existing dynamic analysis techniques based on Galois connections do not lend themselves to richly structured outputs like visualisations and matrices. We presented an approach that supports focusing on arbitrary substructures, which also allows data selections to be inverted. This enables not just linking of outputs to data, but of outputs to other outputs, providing a mathematical basis for a widely used (but so far ad hoc) feature in data visualisation. We implemented our approach in \OurLanguage, a realistic high-level functional programming language. %
\ifanonymous%
   A link to our GitHub repository is included in the non-anonymised version of the paper.
\else%
   Our implementation can be found at \url{https://github.com/explorable-viz/fluid}.%
\fi%

\subsection{Other related work and future directions}
\label{sec:conclusion:other-related-work}

We close by mentioning some other related work, which also provides the context for discussing some limitations and opportunities. Galois slicing \cite{perera12a,ricciotti17,perera16d} was considered in \secref{de-morgan:galois-slicing}.

\emph{Expression provenance and executable slicing.} An \emph{executable} slice \cite{hall95} is a program with some parts removed, but which is still executable. Our approach computes data selections, not executable slices, but such a notion has obvious relevance in data science, since ``explaining'' a part of a result should entail being able to recompute it. One idea would to be extract \emph{expression provenance} \cite{acar12}, which explains how primitive values are computed using only primitive operationsl; however, this still throws away crucial information does not obviously generalise to structured outputs. Work on explore executable slicing for term rewriting systems \cite{field98} could perhaps be adapted to our setting.

\emph{Dynamic program analysis.} Most dynamic analysis techniques, like dataflow analysis \cite{chen88,reps95} and taint tracking \cite{reps95} focus on tracking variables rather than parts of structured values, and lack the round-tripping properties offered by Galois connections. Dynamic analyses (including ours) can also only reveal \emph{that} certain dependencies obtain during execution, not why, which requires analysing path conditions \cite{hammer06}. In a data science setting this would clearly be valuable too, and it would be interesting to see if techniques for computing dynamic path conditions can be combined with the Galois framework.

\emph{Brushing and linking.} Brushing and linking has been studied in the data visualisation community since seminal work by \citet{becker87}. \citet{roberts06} argued it should be ubiquitous, although no automated method of implementation was proposed. Geospatial applications like GeoDa \cite{anselin06} rely heavily on such features for coordinating views, and libraries like d3.js and Plotly support linking, with varying degrees of programmer effort required. However, existing approaches are ad hoc and typically hardcoded to specific views or applications, or require programmer effort. No existing approach provides automation, round-tripping guarantees, or is able to automatically provide a concise view of the data that explains why two visual elements are linked.

\emph{Provenance in data visualisation.} A connection between data provenance and common data visualisation features like brushing and linking was convincingly argued for in recent vision paper by \citet{psallidas18}. This was proposed in a relational (query processing) setting where the relevant notion of provenance was lineage, without the round-tripping features of Galois connections.
