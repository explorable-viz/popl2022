\section{Introduction}

Data, curated by journalists, scientists and policy makers into charts and other visual summaries, is how we understand the changing world around us. But even with access to the relevant data source --- perhaps an Excel spreadsheet or CSV file --- a chart can be hard to interpret correctly. Important features of the underlying data may be obscured or exaggerated by the choice of one plot over another~\cite{weissgerber15} or choices of visual parameter~\cite{correll19}; sometimes it is far from clear what data we are even being presented with \cite{fullfact19}. Innocent (but devastating) mistakes such as transposing two columns of data may go unnoticed for several years, even in widely cited papers~\cite{miller06}. Making sense of (and trusting) a visualisation, even for an expert, means understanding what its visual attributes actually \emph{represent}, which in turn involves the following key comprehension challenges:

\begin{enumerate}
  \item Identifying the mapping between data source and visual elements in the visualisation
  \item Understanding how different views of shared data are related
\end{enumerate}

\noindent Even with the data and source code used to create the visualisation to hand, answering questions such as these is difficult, requiring time and expertise. More typically, readers rely on supposition or defer to authority, leaving them open to manipulation (intentional or otherwise). The basic problem is that visualisations are opaque, disconnected from the data and computations used to create them. Instead we need visualisations which allow a reader to explore the relationship to the underlying data through the visualisation itself, revealing the relevant data and computation on a need-to-know basis, as the reader interacts with it. Building this sort of ``data linked'' visualisation by hand is possible, but a significant undertaking, requiring intimate knowledge of the computational relationship between chart and data, and programming effort to expose that information to the reader. Our proposal is to build these capabilities into visualisations automatically, using new dynamic program analysis techniques to track how the visualisation was computed from data, and new visualisation techniques to expose that information to readers in an intelligible way.

\input{fig/example/convolve-viz}

\subsection{Towards a solution: Galois connections for data-linked visualisation}

Data visualisations are computed views of a data source. This suggests that it might be possible to adapt techniques from program analysis and data provenance to provide a runtime infrastructure that automatically supports linked selections. Then the data scientist or visualisation designer can concern themselves with cleaning, aggregating and presenting data, leaving the infrastructure to take care of linking visualisations to the underlying data sources and related visualisations to each other. This would be a step toward a more ``transparent by construction'' data science.

The fine-grained relationship between visual elements and data intuitively has the flavour of an adjunction. Given a data selection, we might ask whether it contains the data required to reconstruct --- whether it is \emph{sufficient for} --- a given part of the chart. Dually, given a visual selection, we might ask whether it is small enough to be generated by a given data selection. Additionally we might wonder whether there are minimal/maximal solutions to these problems. These considerations points towards \emph{Galois connections} as a way of formalising these relationships.

\subsection{Linking cognate visualisations}

We use the term \emph{cognate} to describe visualisations that depend on common data. Intuitively, selections in cognate visualisations can be linked through their common data, which also a bidirectional quality: one must consider how dependencies flow ``backward'' from selections in one chart to the underlying data, and then ``forward'' from the selected data to a corresponding selection in the other chart. However the flavour of the forward dependency differs from the notion of ``sufficiency'' outlined in the previous section: to determine the related parts of the other chart, we must consider not what the data selection is \emph{sufficient} for, but what it is \emph{necessary} for: those parts of the other visualisation that

\input{fig/example/convolve-lib}
\input{fig/example/convolve-usage}
