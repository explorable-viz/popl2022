\begin{figure}[H]
\flushleft\shadebox{$\sigma \singletonElimBwd{\vec{p}} \kappa$}
\begin{smathpar}
\inferrule*[
   lab={\ruleName{$\singletonElimBwd{}$-var}}
]
{
   \sigma \eq \elimVar{x}{\kappa}
}
{
   \sigma
   \singletonElimBwd{x}
   \kappa
}
%
\and
%
\inferrule*[
   lab={\ruleName{$\singletonElimBwd{}$-nil}}
]
{
   \sigma \eq \elimList{\kappa}{\sigma}
}
{
   \sigma
   \singletonElimBwd{\exNil}
   \kappa
}
%
\and
%
\inferrule*[
   lab={\ruleName{$\singletonElimBwd{}$-cons}}
]
{
   \sigma \eq \elimList{\kappa}{\sigma'}
   \\
   \sigma' \singletonElimBwd{p} \tau
   \\
   \tau \singletonElimBwd{p'} \kappa'
}
{
   \sigma
   \singletonElimBwd{\pattCons{p}{p'}}
   \kappa'
}
%
\and
%
\inferrule*[
   lab={\ruleName{$\singletonElimBwd{}$-non-empty-list}}
]
{
   \sigma \eq \elimList{\kappa}{\sigma'}
   \\
   \sigma' \singletonElimBwd{p} \tau
   \\
   \tau \singletonElimBwd{o} \kappa'
}
{
   \sigma
   \singletonElimBwd{\pattList{p}{o}}
   \kappa'
}
%
\and
%
\inferrule*[
   lab={\ruleName{$\singletonElimBwd{}$-pair}}
]
{
   \sigma \eq \elimProd{\sigma'}
   \\
   \sigma' \singletonElimBwd{p} \tau
   \\
   \tau \singletonElimBwd{p'} \kappa
}
{
   \sigma
   \singletonElimBwd{\pattPair{p}{p'}}
   \kappa
}
%
\and
%
\inferrule*[
   lab={\ruleName{$\singletonElimBwd{}$-seq}},
   right={$\length{\vec{p}} \numgt 0$}
]
{
   \sigma \singletonElimBwd{p}\eq \exLambda{\sigma'}
   \\
   \sigma' \singletonElimBwd{\vec{p}} e
}
{
   \sigma
   \singletonElimBwd{p \concat \vec{p}}
   e
}
\end{smathpar}

\vspace{5pt}
\flushleft\shadebox{$\sigma \singletonElimBwd{o} \kappa$}
\begin{smathpar}
\inferrule*[
   lab={\ruleName{$\singletonElimBwd{}$-list-rest-end}}
]
{
   \sigma \eq \elimList{\kappa}{\sigma}
}
{
   \sigma
   \singletonElimBwd{\pattListEnd}
   \kappa
}
%
\and
%
\inferrule*[
   lab={\ruleName{$\singletonElimBwd{}$-list-rest-cons}}
]
{
   \sigma \eq \elimList{\kappa}{\sigma'}
   \\
   \sigma' \singletonElimBwd{p} \tau
   \\
   \tau \singletonElimBwd{o} \kappa'
}
{
   \sigma
   \singletonElimBwd{(\pattListNext{p}{o})}
   \kappa'
}
\end{smathpar}

\vspace{5pt}
\flushleft\shadebox{$\sigma \desugarClauseBwd{\vec{c}} \vec{c}'$}
\begin{smathpar}
\inferrule*[
   lab={\ruleName{$\desugarClauseBwd{}$-clause}}
]
{
   \sigma \singletonElimBwd{\vec{p}} e
   \\
   e \desugarBwd{s} s'
}
{
   \sigma
   \desugarClauseBwd{\clause{p}{s}}
   \clause{p}{s'}
}
%
\and
%
\inferrule*[
   lab={\ruleName{$\desugarClauseBwd{}$-clause-seq}}
]
{
   \sigma \desugarClauseBwd{c} c'
   \\
   \sigma \desugarClauseBwd{\vec{c}} \vec{c}'
}
{
   \sigma
   \desugarClauseBwd{c \concat \vec{c}}
   c' \concat \vec{c}'
}
\end{smathpar}
\caption{Desugaring clauses and patterns -- backward slicing}
\end{figure}
