\begin{figure}[H]
\flushleft \shadebox{$\explVal{\vec{\pi}}{\kappa \totalisefwdarrow \kappa'}$}
\begin{smathpar}
\inferrule*[
   lab={\ruleName{$\totalisefwdarrow$-expr}}
]
{
   \strut
}
{
   \explVal{\seqEmpty}{e \totalisefwdarrow e}
}
\and
%
\inferrule*[
   lab={\ruleName{$\totalisefwdarrow$-elim-var}}
]
{
   \explVal{\vec{\pi}}{\kappa \totalisefwdarrow \kappa'}
}
{
   \explVal{\pattVar{x} \concat \vec{\pi}}{\elimVar{x}{\kappa} \totalisefwdarrow \elimVar{x}{\kappa'}}
}
\and
%
\inferrule*[
   lab={\ruleName{$\totalisefwdarrow$-elim-true}}
]
{
   \explVal{\vec{\pi}}{\kappa \totalisefwdarrow \kappa'}
}
{
   \explVal{\pattTrue \concat \vec{\pi}}
           {\elimBoolTrue{\kappa} \totalisefwdarrow \elimBool{\kappa'}{\exNil}}
}
\and
%
\inferrule*[
   lab={\ruleName{$\totalisefwdarrow$-elim-false}}
]
{
   \explVal{\vec{\pi}}{\kappa \totalisefwdarrow \kappa'}
}
{
   \explVal{\pattFalse \concat \vec{\pi}}
           {\elimBoolFalse{\kappa} \totalisefwdarrow \elimBool{\exNil}{\kappa'}}
}
\and
%
\inferrule*[
   lab={\ruleName{$\totalisefwdarrow$-elim-prod}}
]
{
   \explVal{\vec{\pi}}{\sigma \totalisefwdarrow \sigma'}
}
{
   \explVal{\vec{\pi}}{\elimProd{\sigma} \totalisefwdarrow \elimProd{\sigma'}}
}
\and
%
\inferrule*[
   lab={\ruleName{$\totalisefwdarrow$-elim-nil}}
]
{
   \\
   \totalise{\kappa}{\alpha}{\kappa'}
}
{
   \totalise{\elimNil{\kappa}}
            {\alpha}
            {\elimList{\kappa'}{\elimVar{x}{\elimVar{y}{\exNil}}}}
}
\and
%
\inferrule*[
   lab={\ruleName{$\totalisefwdarrow$-elim-cons}}
]
{
   \totalise{\sigma}{\alpha}{\sigma'}
}
{
   \totalise{\elimCons{\sigma}}{\alpha}{\elimList{\exNil}{\sigma'}}
}
\end{smathpar}
\caption{Totalise}
\end{figure}
