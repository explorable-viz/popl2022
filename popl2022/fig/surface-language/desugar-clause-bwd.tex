\begin{figure}[H]
\flushleft\shadebox{$\sigma \singletonElimBwd{\vec{p}} e$}
\begin{smathpar}
\inferrule*[
   lab={\ruleName{$\singletonElimBwd{}$-pattern-seq}}
]
{
   \sigma \singletonElimBwd{p}\eq \exLambda{\sigma'}
   \\
   \sigma' \singletonElimBwd{\vec{p}} e
}
{
   \sigma
   \singletonElimBwd{p \concat \vec{p}}
   e
}
\end{smathpar}

\vspace{5pt}
\flushleft\shadebox{$\sigma \singletonElimBwd{p} \kappa$}
\begin{smathpar}
\inferrule*[
   lab={\ruleName{$\singletonElimBwd{}$-var}}
]
{
   \sigma \eq \elimVar{x}{\kappa}
}
{
   \sigma
   \singletonElimBwd{x}
   \kappa
}
%
\and
%
\inferrule*[
   lab={\ruleName{$\singletonElimBwd{}$-nil}}
]
{
   \sigma \eq \elimList{\kappa}{\sigma}
}
{
   \sigma
   \singletonElimBwd{\exNil}
   \kappa
}
%
\and
%
\inferrule*[
   lab={\ruleName{$\singletonElimBwd{}$-cons}}
]
{
   \sigma \eq \elimList{\kappa}{\sigma'}
   \\
   \sigma' \singletonElimBwd{p} \tau
   \\
   \tau \singletonElimBwd{p'} \kappa'
}
{
   \sigma
   \singletonElimBwd{\pattCons{p}{p'}}
   \kappa'
}
%
\and
%
\inferrule*[
   lab={\ruleName{$\singletonElimBwd{}$-non-empty-list}}
]
{
   \sigma \eq \elimList{\kappa}{\sigma'}
   \\
   \sigma' \singletonElimBwd{p} \tau
   \\
   \tau \singletonElimBwd{o} \kappa'
}
{
   \sigma
   \singletonElimBwd{\pattList{p}{o}}
   \kappa'
}
%
\and
%
\inferrule*[
   lab={\ruleName{$\singletonElimBwd{}$-pair}}
]
{
   \sigma \eq \elimProd{\sigma'}
   \\
   \sigma' \singletonElimBwd{p} \tau
   \\
   \tau \singletonElimBwd{p'} \kappa
}
{
   \sigma
   \singletonElimBwd{\pattPair{p}{p'}}
   \kappa
}
\end{smathpar}

\vspace{5pt}
\flushleft\shadebox{$\sigma, o \dbwdarrow \kappa$}
\begin{smathpar}
\inferrule*[
   lab={\ruleName{$\dbwdarrow$-list-rest-end}}
]
{
   \sigma \geq \elimList{\kappa}{\sigma}
}
{
   \sigma, \pattListEnd
   \dbwdarrow
   \kappa
}
%
\and
%
\inferrule*[
   lab={\ruleName{$\dbwdarrow$-list-rest-cons}}
]
{
   \sigma \geq \elimList{\kappa}{\sigma'}
   \\
   \sigma', p \dbwdarrow \tau
   \\
   \tau, o \dbwdarrow \kappa'
}
{
   \sigma, (\pattListNext{p}{o})
   \dbwdarrow
   \kappa'
}
\end{smathpar}

\vspace{5pt}
\flushleft\shadebox{$\sigma \desugarBwd{\vec{c}} \vec{c}'$}
\begin{smathpar}
\inferrule*[
   lab={\ruleName{$\desugarBwd{}$-clause}}
]
{
   \sigma \singletonElimBwd{\vec{p}} e
   \\
   e \desugarBwd{s} s'
}
{
   \sigma
   \desugarBwd{\clause{p}{s}}
   \clause{p}{s'}
}
%
\and
%
\inferrule*[
   lab={\ruleName{$\desugarBwd{}$-clause-seq}}
]
{
   \sigma \desugarBwd{c} c'
   \\
   \sigma \desugarBwd{\vec{c}} \vec{c}'
}
{
   \sigma
   \desugarBwd{c \concat \vec{c}}
   c' \cdot \vec{c}'
}
\end{smathpar}
\caption{Desugaring clauses and patterns -- backward slicing}
\end{figure}
