\begin{figure}[H]
\flushleft \shadebox{$\totaliseFwd{\kappa}{\alpha}{\vec{\pi}}{\kappa'}$}
\begin{smathpar}
\inferrule*[
   lab={\ruleName{$\totaliseFwdS$-expr}}
]
{
   \strut
}
{
   \totaliseFwd{e}{\alpha}{\seqEmpty}{e}
}
\and
%
\inferrule*[
   lab={\ruleName{$\totaliseFwdS$-elim-var}}
]
{
   \totaliseFwd{\kappa}{\alpha}{\vec{\pi}}{\kappa'}
}
{
   \totaliseFwd{\elimVar{x}{\kappa}}
               {\alpha}
               {\pattVar{x} \concat \vec{\pi}}
               {\elimVar{x}{\kappa'}}
}
\and
%
\inferrule*[
   lab={\ruleName{$\totaliseFwdS$-elim-true}}
]
{
   \totaliseFwd{\kappa}{\alpha}{\vec{\pi}}{\kappa'}
}
{
   \totaliseFwd{\elimBoolTrue{\kappa}}
               {\alpha}
               {\pattTrue \concat \vec{\pi}}
               {\elimBool{\kappa'}{\annNil{\alpha}}}
}
\and
%
\inferrule*[
   lab={\ruleName{$\totaliseFwdS$-elim-false}}
]
{
   \totaliseFwd{\kappa}{\alpha}{\vec{\pi}}{\kappa'}
}
{
   \totaliseFwd{\elimBoolFalse{\kappa}}
               {\alpha}
               {\pattFalse \concat \vec{\pi}}
               {\elimBool{\annNil{\alpha}}{\kappa'}}
}
\and
%
\inferrule*[
   lab={\ruleName{$\totaliseFwdS$-elim-prod}}
]
{
   \totaliseFwd{\sigma}{\alpha}{p \concat p' \concat \vec{\pi}}{\sigma'}
}
{
   \totaliseFwd{\elimProd{\sigma}}
               {\alpha}
               {\pattPair{p}{p'} \concat \vec{\pi}}
               {\elimProd{\sigma'}}
}
\and
%
\inferrule*[
   lab={\ruleName{$\totaliseFwdS$-elim-nil}}
]
{
   \totaliseFwd{\kappa}{\alpha}{\vec{\pi}}{\kappa'}
}
{
   \totaliseFwd{\elimNil{\kappa}}
               {\alpha}
               {\pattNil \concat \vec{\pi}}
               {\elimList{\kappa'}{\elimVar{x}{\elimVar{y}{\annNil{\alpha}}}}}
}
\and
%
\inferrule*[
   lab={\ruleName{$\totaliseFwdS$-elim-cons}}
]
{
   \totaliseFwd{\sigma}{\alpha}{p \concat p' \concat \vec{\pi}}{\sigma'}
}
{
   \totaliseFwd{\elimCons{\sigma}}
               {\alpha}
               {(\pattCons{p}{p'}) \concat \vec{\pi}}
               {\elimList{\annNil{\alpha}}{\sigma'}}
}
\end{smathpar}
\caption{Totalise -- forward slicing}
\end{figure}
