\begin{figure}[H]
\flushleft \shadebox{$\matchFwdF{w}: \Below{(v,\sigma) \to \Below{(\rho,\kappa, \alpha)}}$}
 where $w :: v, \sigma \match \rho, \kappa, \alpha$ \\
 \small
\vspace{3mm}
$\begin{array}{lllll}
   \matchFwdF{x}(v, \sigma)
   &=&
   (\bind{x}{v}, \kappa, \TT)
   &\text{where}&
   \sigma \eq \elimVar{x}{\kappa}
   \\
   \matchFwdF{\matchTrueNew}(v, \sigma)
   &=&
   (\seqEmpty, \kappa, \alpha)
   &\text{where}&
   (v, \sigma) \eq (\annTrue{\alpha}, \elimBool{\kappa}{\kappa'})
   \\
   \matchFwdF{\matchFalseNew}(v, \sigma)
   &=&
   (\seqEmpty, \kappa', \alpha)
   &\text{where}&
   (v, \sigma) \eq (\annFalse{\alpha}, \elimBool{\kappa}{\kappa'})
   \\
   \matchFwdF{\matchPair{w_1}{w_2}}(v, \sigma)
   &=&
   (\rho_1 \concat \rho_2, \kappa, \alpha \meet \beta \meet \beta')
   &\text{where}&
   (v, \sigma) \eq (\annPair{v_1}{v_2}{\alpha}, \elimProd{\sigma'})
\end{array}$
\vspace{5mm}
\flushleft \shadebox{$\matchFwd{v}{\sigma}{w}{\rho}{\kappa}{\alpha}$}
\begin{smathpar}
   \inferrule*[
      lab={\ruleName{$\matchFwdS$-pair}}
   ]
   {
      \matchFwd{v_1}{\sigma'}{w_1}{\rho_1}{\tau}{\beta}
      \\
      \matchFwd{v_2}{\tau}{w_2}{\rho_2}{\kappa}{\beta'}
   }
   {
   }
   %
   \and
   %
   \inferrule*[
      lab={\ruleName{$\matchFwdS$-nil}}
   ]
   {
      v \eq \annNil{\alpha}
      \\
      \sigma \eq \elimList{\kappa}{\sigma'}
   }
   {
      \matchFwd{v}{\sigma}{\matchNilNew}{\seqEmpty}{\kappa}{\alpha}
   }
   %
   \and
   %
   \inferrule*[
      lab={\ruleName{$\matchFwdS$-cons}}
   ]
   {
      v \eq \annCons{v_1}{v_2}{\alpha}
      \\
      \sigma \eq \elimList{\kappa}{\sigma'}
      \\
      \matchFwd{v_1}{\sigma'}{w_1}{\rho_1}{\tau}{\beta}
      \\
      \matchFwd{v_2}{\tau}{w_2}{\rho_2}{\kappa}{\beta'}
   }
   {
      \matchFwd{v}{\sigma}{\matchConsNew{w_1}{w_2}}{\rho_1 \concat \rho_2}{\kappa}{\alpha \meet \beta \meet \beta'}
   }
\end{smathpar}
\caption{Pattern-matching: forward slicing}
\end{figure}
