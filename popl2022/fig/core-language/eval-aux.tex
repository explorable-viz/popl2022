\hshade{\small \flushleft $\envLookup{\rho}{x}{v}$%
\hfill ($x$ is bound to $v$ in $\rho$)}
\begin{smathpar}
   \inferrule*[
      lab={\ruleName{$\envLookupS$-head}}
   ]
   {
      \strut
   }
   {
      \envLookup{(\rho \concat \bind{x}{v})}{x}{v}
   }
   %
   \and
   %
   \inferrule*[
      lab={\ruleName{$\envLookupS$-tail}},
      right={$x \neq y$}
   ]
   {
      \envLookup{\rho}{x}{v}
   }
   {
      \envLookup{(\rho \concat \bind{y}{u})}{x}{v}
   }
\end{smathpar}

\hshade{\small \flushleft $\rho, h \closeDefsR \rho'$%
\hfill (in $\rho$, recursive definitions $h$ evaluate to the closures in $\rho'$)}
\begin{salign}
   \rho, h
   &\closeDefsR
   \seqRange{\bind{x_1}{\exClosure{\rho}{h}{\sigma_1}}}{\bind{x_j}{\exClosure{\rho}{h}{\sigma_j}}}
   & \text{where $h = \vec{\bind{x}{\sigma}}$}
\end{salign}
