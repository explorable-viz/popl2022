\begin{figure}[H]
\flushleft \shadebox{$\matchBwdF{w}: \Below{(\rho,\kappa, \alpha)} \to \Below{(v,\sigma)}$}
 where $w :: v, \sigma \match \rho, \kappa, \alpha$ \\
 \small
\vspace{3mm}
$\begin{array}{lllll}
   \matchBwdF{\matchVarNew{x}}(\bind{x}{v}, \kappa, \alpha)
   &=&
   (v, \elimVar{x}{\kappa})
   \\
   \matchBwdF{\matchTrueNew}(\seqEmpty, \kappa, \alpha)
   &=&
   (\annTrue{\alpha}, \elimBool{\kappa}{\hole})
   \\
   \matchBwdF{\matchFalseNew}(\seqEmpty, \kappa, \alpha)
   &=&
   (\annFalse{\alpha}, \elimBool{\hole}{\kappa})
   \\
   \matchBwdF{\matchPair{w_1}{w_2}}(\rho_1 \concat \rho_2, \kappa, \alpha)
   &=&
   (\annPair{v_1}{v_2}{\alpha}, \elimProd{\tau})
   &\text{where}&
   \begin{array}[t]{lll}
      (v_2, \sigma) &\eq& \matchBwdF{w_2}(\rho_2, \kappa, \alpha)
      \\
      (v_1, \tau) &\eq& \matchBwdF{w_1}(\rho_1, \sigma, \alpha)
   \end{array}
   \\
   \matchBwdF{\matchNilNew}(\seqEmpty,\kappa,\alpha)
   &=&
   (\annNil{\alpha}, \elimList{\kappa}{\hole})
   \\
   \matchBwdF{\matchConsNew{w_1}{w_2}}(\rho_1 \concat \rho_2, \kappa, \alpha)
   &=&
   (\annCons{v_1}{v_2}{\alpha}, \elimList{\hole}{\tau})
   &\text{where}&
   \begin{array}[t]{lll}
      (v_2, \sigma) &\eq& \matchBwdF{w_2}(\rho_2, \kappa, \alpha)
      \\
      (v_1, \tau) &\eq& \matchBwdF{w_1}(\rho_1, \sigma, \alpha)
   \end{array}
\end{array}$

\vspace{5mm}
\flushleft \shadebox{$\matchBwd{\rho}{\kappa}{\alpha}{w}{v}{\sigma}$}
\begin{smathpar}
   \inferrule*[lab={\ruleName{$\matchBwdS$-cons}}]
   {
      \matchBwd{\rho_2}{\kappa}{\alpha}{w_2}{v_2}{\sigma}
      \\
      \matchBwd{\rho_1}{\sigma}{\alpha}{w_1}{v_1}{\tau}
   }
   {
   }
\end{smathpar}
\caption{Pattern-matching: backward slicing}
\end{figure}
