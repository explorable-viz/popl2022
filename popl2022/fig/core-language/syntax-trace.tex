\begin{figure}[H]
\begin{syntaxfig}
\mbox{Match}
&
w
&
::=
&
\matchVar{x}
&
\text{variable}
\\
&&&
\matchTrue \mid \matchFalse
&
\text{Boolean}
\\
&&&
\matchPair{w}{w'}
&
\text{pair}
\\
&&&
\matchNil
&
\text{nil}
\\
&&&
\matchCons{w}{w'}
&
\text{cons}
\\[2mm]
\mbox{Trace}
&
T, U
&
::=
&
\trVar{x}{\rho}
&
\text{variable}
\\
&&&
\trOp{\primOp}{\Gamma}
&
\text{first-class operator}
\\
&&&
\trTrue{\Gamma}
\mid
\trFalse{\Gamma}
&
\text{Boolean}
\\
&&&
\trInt{n}{\Gamma}
&
\text{integer}
\\
&&&
\trPair{T}{U}
&
\text{pair}
\\
&&&
\trNil{\Gamma}
&
\text{nil}
\\
&&&
\trCons{T}{U}
&
\text{cons}
\\
&&&
\trVec{\vec{U}}{x}{T}{j}
&
\text{vector of length $j$}
\\
&&&
\trVecLookup{T}{i}{U}{j}
&
\text{vector lookup}
\\
&&&
\trVecLen{T}{i}
&
\text{vector length}
\\
&&&
\trLambda{\sigma}
&
\text{anonymous function}
\\
&&&
\trAppNew{T}{\rho}{h}{U}{w}{T'}
&
\text{application}
\\
&&&
\trAppPrim{T}{\phi}{\vec{n}}{U}{\exInt{n}}
&
\text{primitive application}
\\
&&&
\trLetRecMutualNew{\rho}{h}{T}
&
\text{recursive let}
\end{syntaxfig}
\caption{Matches and traces}
\end{figure}
