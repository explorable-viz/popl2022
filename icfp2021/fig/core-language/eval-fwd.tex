\begin{figure}[H]
\flushleft \shadebox{$\rho, e, \alpha, T \fwdSlice v$}
\begin{smathpar}
   \inferrule*[
      lab={\ruleName{$\fwdSlice$-var}}
   ]
   {
      e \geq \exVar{x}
      \\
      \envLookup{\rho}{x}{v}
   }
   {
      \rho, e, \alpha, \trVar{x}{\Gamma} \fwdSlice v
   }
   %
   \and
   %
   \inferrule*[
      lab={\ruleName{$\fwdSlice$-op}}
   ]
   {
      e \geq \exOp{\primOp}
      \\
      \envLookup{\rho}{\primOp}{v}
   }
   {
      \rho, e, \alpha, \trOp{\primOp}{\Gamma} \fwdSlice v
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-lambda}}]
   {
      e \geq \exLambda{\sigma}
   }
   {
      \rho, e, \trLambda{\sigma'} \fwdSlice \exClosure{\rho}{\seqEmpty}{\sigma}
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-int}}]
   {
      e \geq \annInt{n}{\alpha}
   }
   {
      \rho, e, \alpha', \trInt{n}{\Gamma} \fwdSlice \annInt{n}{\alpha \meet \alpha'}
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-nil}}]
   {
      e \geq \annNil{\alpha}
   }
   {
      \rho, e, \alpha', \trNil{\Gamma} \fwdSlice \annNil{\alpha \meet \alpha'}
   }
   %
   \and
   %
   \inferrule*[
      lab={\ruleName{$\fwdSlice$-cons}},
   ]
   {
      e \geq \annCons{e_1}{e_2}{\alpha}
      \\
      \rho, e_1, \alpha', T \fwdSlice v
      \\
      \rho, e_2, \alpha', U \fwdSlice v'
   }
   {
      \rho, e, \alpha', \trCons{T}{U}
      \fwdSlice
      \annCons{v}{v'}{\alpha \meet \alpha'}
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-matrix}}]
   {
      e \geq \annMatrix{e_1}{x}{y}{e_2}{\alpha}
      \\
      \rho, e_2, \alpha', T \fwdSlice \annPair{\annInt{\ihat}{\smash{\gamma}}}{\annInt{\jhat}{\smash{\gamma'}}}{\beta}
      \\
      \rho \concat \bind{x}{i_{\gamma}} \concat \bind{y}{j_{\gamma'}}, e_1, \alpha', U_{i,j} \fwdSlice v_{i,j}
      \quad
      (\forall (i,j) \leq (\ihat,\jhat))
   }
   {
      \rho, e, \alpha', \trMatrix{U_{i,j}}{x}{y}{i}{j}{T}{\ihat,\jhat}
      \fwdSlice
      \annMatrix{v_{i,j}}{i}{j}{\exPair{\ihat}{\jhat}}{\alpha \meet \alpha' \meet \gamma \meet \gamma'}
   }
   %
   \and
   %
   \inferrule*[
      lab={\ruleName{$\fwdSlice$-matrix-lookup}},
      right={$(i,j) \leq (\ihat,\jhat)$}
   ]
   {
      e \geq \exMatrixAccess{e_1}{e_2}
      \\
      \rho, e_1, \alpha, T \fwdSlice\geq \annMatrix{v_{i,j}}{i}{j}{\exPair{\ihat}{\jhat}}{\beta}
      \\
      \rho, e_2, \alpha, U \fwdSlice\geq \annPair{\annInt{i}{\gamma}}{\annInt{j}{\gamma'}}{\beta'}
   }
   {
      \rho, e, \alpha, \trMatrixAccess{T}{\ihat,\jhat}{U}{i,j}
      \fwdSlice
      v_{i,j}
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-matrix-dims}}]
   {
      e \geq \exMatrixDims{e'}
      \\
      \rho, e', \alpha', T \fwdSlice \annot{\exMatrix{v_{i,j}}{i}{j}{\exPair{\ihat}{\jhat}}}{\beta}
   }
   {
      \rho, e, \alpha, \trMatrixDims{T}{\ihat,\jhat}
      \fwdSlice
      \annPair{\annot{\ihat}{\beta}}{\annot{\jhat}{\beta}}{\alpha}
   }
   %
   \and
   %
   \inferrule*[
      lab={\ruleName{$\fwdSlice$-apply}}
   ]
   {
      e \geq \exApp{e_1}{e_2}
      \\
      \rho, e_1, \alpha, T \fwdSlice\geq \exClosureRec{\Gamma}{\rho_1}{h}{\sigma}
      \\
      \rho_1, \delta \closeDefs \rho_2
      \\
      \rho, e_2, \alpha, U \fwdSlice v
      \\
      v, w, \sigma \matchFwd \rho_3, e', \beta
      \\
      \rho_1 \concat \rho_2 \concat \rho_3, e', \beta, T' \fwdSlice v'
   }
   {
      \rho, e, \alpha, \trApp{T}{U}{\matchPlug{w}{T'}} \fwdSlice v'
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-apply-prim}}]
   {
      e \geq \exApp{e_1}{e_2}
      \\
      \rho, e_1, \alpha, T \fwdSlice\geq \phi
      \\
      \rho, e_2, \alpha, U \fwdSlice\geq \annInt{n}{\beta}
   }
   {
      \rho, e, \alpha, \trAppPrim{T}{\phi}{U}{\exInt{n}}
      \fwdSlice
      \annot{\phi(n)}{\beta}
   }
   %
   \and
   %
   \inferrule*[
      lab={\ruleName{$\fwdSlice$-binary-apply}}
   ]
   {
      e \geq \exBinaryApp{e_1}{\primOp}{e_2}
      \\
      \rho, e_1, \alpha, T \fwdSlice\geq \annInt{n}{\beta}
      \\
      \envLookup{\rho}{\primOp}{v}
      \\
      v \geq \phi
      \\
      \rho, e_2, \alpha, U \fwdSlice\geq \annInt{m}{\beta'}
   }
   {
      \rho, e, \alpha, \trBinaryApp{T}{n}{\primOp}{\phi}{U}{m}
      \fwdSlice
      \annot{\exInt{\phi(n)(m)}}{\beta \meet \beta'}
   }
   %
   \and
   %
   \inferrule*[lab={
      \ruleName{$\fwdSlice$-let-rec}}
   ]
   {
      e \geq \exLetRecMutual{h}{e'}
      \\
      \rho, h \closeDefs \rho'
      \\
      \rho \concat \rho', e', \alpha, T \fwdSlice v
   }
   {
      \rho, e, \alpha, \trLetRecMutual{h}{T} \fwdSlice v
   }
\end{smathpar}
\caption{Evaluation: forward slicing (Boolean and pair cases omitted)}
\end{figure}
