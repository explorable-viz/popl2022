\begin{figure}[H]
\flushleft \shadebox{$\rho, e, \alpha, T \fwdSlice v$}
\begin{smathpar}
   \inferrule*[
      lab={\ruleName{$\fwdSlice$-$\hole$}}
   ]
   {
      T \evalFwdHole e
      \\
      \rho, e, \alpha, T \fwdSlice v
   }
   {
      \rho, \hole, \alpha, T \fwdSlice v
   }
   %
   \and
   %
   \inferrule*[
      lab={\ruleName{$\fwdSlice$-var}},
      right={\textnormal{$x: v \in \rho$}}
   ]
   {
      \strut
   }
   {
      \rho, \exVar{x}, \alpha, \trVar{x} \fwdSlice v
   }
   %
   \and
   %
   \inferrule*[
      lab={\ruleName{$\fwdSlice$-op}},
      right={$\primOp: \phi \in \rho$}
   ]
   {
      \strut
   }
   {
      \rho, \exOp{\primOp}, \alpha, \trOp{\primOp} \fwdSlice \phi
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-nil}}]
   {
      \strut
   }
   {
      \rho, \annNil{\alpha}, \alpha', \trNil \fwdSlice \annNil{\alpha \meet \alpha'}
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-int}}]
   {
      \strut
   }
   {
      \rho, \annInt{n}{\alpha}, \alpha', \trInt{n} \fwdSlice \annInt{n}{\alpha \meet \alpha'}
   }
   %
   \and
   %
   \inferrule*[
      lab={\ruleName{$\fwdSlice$-cons}},
   ]
   {
      \rho, e, \alpha', T \fwdSlice v
      \\
      \rho, e', \alpha', U \fwdSlice v'
   }
   {
      \rho, \annCons{e}{e'}{\alpha}, \alpha', \trCons{T}{U}
      \fwdSlice
      \annCons{v}{v'}{\alpha \meet \alpha'}
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-matrix}}]
   {
      \rho, e', \alpha', T \fwdSlice \annPair{\annInt{i'}{\smash{\gamma}}}{\annInt{j'}{\smash{\gamma'}}}{\beta}
      \\
      \forall (i,j) \leq (i',j').
      \envExtend{\envExtend{\rho}{x}{i_{\gamma}}}{y}{j_{\gamma'}}, e, \alpha', U_{i,j} \fwdSlice v_{i,j}
   }
   {
      \rho, \annMatrixNew{e}{x}{y}{e'}{\alpha}, \alpha', \trMatrix{U_{i,j}}{x}{y}{i}{j}{T}{i',j'}
      \fwdSlice
      \annMatrixNew{v_{i,j}}{i}{j}{\exPair{i'}{j'}}{\alpha \meet \alpha' \meet \gamma \meet \gamma'}
   }
   %
   \and
   %
   \inferrule*[
      lab={\ruleName{$\fwdSlice$-matrix-lookup}},
      right={$(i,j) \leq (i',j')$}
   ]
   {
      \rho, e, \alpha, T \fwdSlice \annMatrixNew{v_{i,j}}{i}{j}{\exPair{i'}{j'}}{\beta}
      \\
      \rho, e', \alpha, U \fwdSlice \annPair{\annInt{i}{\gamma}}{\annInt{j}{\gamma'}}{\beta'}
   }
   {
      \rho, \exMatrixAccess{e}{e'}, \alpha, \trMatrixAccess{T}{i',j'}{U}{i,j}
      \fwdSlice
      v_{i,j}
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-matrix-dims}}]
   {
      \rho, e, \alpha', T \fwdSlice \annot{\exMatrix{\exPair{i'}{j'}}{i}{j}{v_{i,j}}}{\beta}
   }
   {
      \rho, \exMatrixDims{e}, \alpha, \trMatrixDims{T}{i',j'}
      \fwdSlice
      \annPair{\annot{i'}{\beta}}{\annot{j'}{\beta}}{\alpha}
   }
   %
   \and
   %
   \inferrule*[
      lab={\ruleName{$\fwdSlice$-apply}},
      right={$u = \exClosureRec{\rho'}{f}{\sigma}$}
   ]
   {
      \rho, e, \alpha, T \fwdSlice u
      \\
      \rho, e', \alpha, U \fwdSlice v
      \\
      v, w, \sigma \matchFwd \rho^\twoPrime, e^\twoPrime, \beta
      \\
      \envExtend{(\rho' \concat \rho^\twoPrime)}{f}{u}, e^\twoPrime, \beta, T' \fwdSlice v'
   }
   {
      \rho, \exApp{e}{e'}, \alpha, \trApp{T}{U}{\matchPlug{w}{T'}} \fwdSlice v'
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-apply-prim}}]
   {
      \rho, e, \alpha, T \fwdSlice \phi
      \\
      \rho, e', \alpha, U \fwdSlice \annInt{n}{\beta}
   }
   {
      \rho, \exApp{e}{e'}, \alpha, \trAppPrim{T}{\phi}{U}{\exInt{n}}
      \fwdSlice
      \annot{\phi(n)}{\beta}
   }
   %
   \and
   %
   \inferrule*[
      lab={\ruleName{$\fwdSlice$-binary-apply}},
      right={$\primOp: \phi \in \rho$}
   ]
   {
      \rho, e, \alpha, T \fwdSlice \annInt{n}{\beta}
      \\
      \rho, e', \alpha, U \fwdSlice \annInt{m}{\beta'}
   }
   {
      \rho, \exBinaryApp{e}{\primOp}{e'}, \alpha, \trBinaryApp{T}{n}{\primOp}{\phi}{U}{m}
      \fwdSlice
      \annot{\exInt{\phi(n)(m)}}{\beta \meet \beta'}
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-let}}]
   {
      \rho, e, \alpha, T \fwdSlice v
      \\
      \envExtend{\rho}{x}{v}, e', \alpha, U \fwdSlice v'
   }
   {
      \rho, \exLet{x}{e}{e'}, \alpha, \trLet{x}{T}{U} \fwdSlice v'
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-let-rec}}]
   {
      \envExtend{\rho}{f}{\exClosureRec{\rho}{f}{\sigma}}, e, \alpha, T \fwdSlice v
   }
   {
      \rho, \exLetRec{f}{\sigma}{e}, \alpha, \trLetRec{f}{\sigma}{T} \fwdSlice v
   }
\end{smathpar}
\caption{Forward slicing; Boolean and pair cases omitted}
\end{figure}
