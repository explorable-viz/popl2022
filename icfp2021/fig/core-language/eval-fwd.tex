\begin{figure}[H]
\flushleft \shadebox{$\rho, e, \alpha, T \fwdSlice v$}
\begin{smathpar}
   \inferrule*[
      lab={\ruleName{$\fwdSlice$-var}}
   ]
   {
      e \geq \exVar{x}
      \\
      x : v \in \rho
   }
   {
      \rho, e, \alpha, \trVar{x}{\Gamma} \fwdSlice v
   }
   %
   \and
   %
   \inferrule*[
      lab={\ruleName{$\fwdSlice$-op}}
   ]
   {
      e \geq \exOp{\primOp}
      \\
      \primOp: v \in \rho
   }
   {
      \rho, e, \alpha, \trOp{\primOp}{\Gamma} \fwdSlice v
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-nil}}]
   {
      e \geq \annNil{\alpha}
   }
   {
      \rho, e, \alpha', \trNil{\Gamma} \fwdSlice \annNil{\alpha \meet \alpha'}
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-int}}]
   {
      e \geq \annInt{n}{\alpha}
   }
   {
      \rho, e, \alpha', \trInt{n}{\Gamma} \fwdSlice \annInt{n}{\alpha \meet \alpha'}
   }
   %
   \and
   %
   \inferrule*[
      lab={\ruleName{$\fwdSlice$-cons}},
   ]
   {
      e \geq \annCons{e_1}{e_2}{\alpha}
      \\
      \rho, e_1, \alpha', T \fwdSlice v
      \\
      \rho, e_2, \alpha', U \fwdSlice v'
   }
   {
      \rho, e, \alpha', \trCons{T}{U}
      \fwdSlice
      \annCons{v}{v'}{\alpha \meet \alpha'}
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-matrix}}]
   {
      e \geq \annMatrix{e_1}{x}{y}{e_2}{\alpha}
      \\
      \rho, e_2, \alpha', T \fwdSlice \annPair{\annInt{i'}{\smash{\gamma}}}{\annInt{j'}{\smash{\gamma'}}}{\beta}
      \\
      \forall (i,j) \leq (i',j').
      \envExtend{\envExtend{\rho}{x}{i_{\gamma}}}{y}{j_{\gamma'}}, e_1, \alpha', U_{i,j} \fwdSlice v_{i,j}
   }
   {
      \rho, e, \alpha', \trMatrix{U_{i,j}}{x}{y}{i}{j}{T}{i',j'}
      \fwdSlice
      \annMatrix{v_{i,j}}{i}{j}{\exPair{i'}{j'}}{\alpha \meet \alpha' \meet \gamma \meet \gamma'}
   }
   %
   \and
   %
   \inferrule*[
      lab={\ruleName{$\fwdSlice$-matrix-lookup}},
      right={$(i,j) \leq (i',j')$}
   ]
   {
      e \geq \exMatrixAccess{e_1}{e_2}
      \\
      \rho, e_1, \alpha, T \fwdSlice \annMatrix{v_{i,j}}{i}{j}{\exPair{i'}{j'}}{\beta}
      \\
      \rho, e_2, \alpha, U \fwdSlice \annPair{\annInt{i}{\gamma}}{\annInt{j}{\gamma'}}{\beta'}
   }
   {
      \rho, e, \alpha, \trMatrixAccess{T}{i',j'}{U}{i,j}
      \fwdSlice
      v_{i,j}
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-matrix-dims}}]
   {
      e \geq \exMatrixDims{e'}
      \\
      \rho, e', \alpha', T \fwdSlice \annot{\exMatrix{\exPair{i'}{j'}}{i}{j}{v_{i,j}}}{\beta}
   }
   {
      \rho, e, \alpha, \trMatrixDims{T}{i',j'}
      \fwdSlice
      \annPair{\annot{i'}{\beta}}{\annot{j'}{\beta}}{\alpha}
   }
   %
   \and
   %
   \inferrule*[
      lab={\ruleName{$\fwdSlice$-apply}},
      right={$u \geq \exClosureRec{\Gamma}{\rho'}{f}{\sigma}$}
   ]
   {
      e \geq \exApp{e_1}{e_2}
      \\
      \rho, e_1, \alpha, T \fwdSlice u
      \\
      \rho, e_2, \alpha, U \fwdSlice v
      \\
      v, w, \sigma \matchFwd \rho^\twoPrime, e', \beta
      \\
      \envExtend{(\rho' \concat \rho^\twoPrime)}{f}{u}, e', \beta, T' \fwdSlice v'
   }
   {
      \rho, e, \alpha, \trApp{T}{U}{\matchPlug{w}{T'}} \fwdSlice v'
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-apply-prim}}]
   {
      e \geq \exApp{e_1}{e_2}
      \\
      \rho, e_1, \alpha, T \fwdSlice\geq \phi
      \\
      \rho, e_2, \alpha, U \fwdSlice\geq \annInt{n}{\beta}
   }
   {
      \rho, e, \alpha, \trAppPrim{T}{\phi}{U}{\exInt{n}}
      \fwdSlice
      \annot{\phi(n)}{\beta}
   }
   %
   \and
   %
   \inferrule*[
      lab={\ruleName{$\fwdSlice$-binary-apply}},
      right={$\rho(\primOp) \geq \phi$}
   ]
   {
      e \geq \exBinaryApp{e_1}{\primOp}{e_2}
      \\
      \rho, e_1, \alpha, T \fwdSlice\geq \annInt{n}{\beta}
      \\
      \rho, e_2, \alpha, U \fwdSlice\geq \annInt{m}{\beta'}
   }
   {
      \rho, e, \alpha, \trBinaryApp{T}{n}{\primOp}{\phi}{U}{m}
      \fwdSlice
      \annot{\exInt{\phi(n)(m)}}{\beta \meet \beta'}
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-let}}]
   {
      e \geq \exLet{x}{e_1}{e_2}
      \\
      \rho, e_1, \alpha, T \fwdSlice v
      \\
      \envExtend{\rho}{x}{v}, e_2, \alpha, U \fwdSlice v'
   }
   {
      \rho, e, \alpha, \trLet{x}{T}{U} \fwdSlice v'
   }
   %
   \and
   %
   \inferrule*[lab={
      \ruleName{$\fwdSlice$-let-rec}},
      right={$\vdash \rho: \Gamma$}
   ]
   {
      e \geq \exLetRec{f}{\sigma}{e'}
      \\
      \envExtend{\rho}{f}{\exClosureRec{\Gamma}{\rho}{f}{\sigma}}, e', \alpha, T \fwdSlice v
   }
   {
      \rho, e, \alpha, \trLetRec{f}{\sigma}{T} \fwdSlice v
   }
\end{smathpar}
\caption{Forward slicing; Boolean and pair cases omitted}
\end{figure}
