\begin{figure}[H]
\flushleft \shadebox{$\rho, e, \alpha, T \fwdSlice v$}
\begin{smathpar}
   \inferrule*[
      lab={\ruleName{$\fwdSlice$-$\hole$}}
   ]
   {
      \strut
   }
   {
      \rho, \hole, \alpha, T \fwdSlice \hole
   }
   %
   \and
   %
   \inferrule*[
      lab={\ruleName{$\fwdSlice$-var}},
      right={\textnormal{$x: v \in \rho$}}
   ]
   {
      \strut
   }
   {
      \rho, \annot{x}{\alpha}, \alpha', x \fwdSlice v
   }
   %
   \and
   %
   \inferrule*[
      lab={\ruleName{$\fwdSlice$-op}},
      right={$\primOp: \annot{\phi}{\beta} \in \rho$}
   ]
   {
      \strut
   }
   {
      \rho, \annot{\exOp{\primOp}}{\alpha}, \alpha', \trOp{\primOp} \fwdSlice \annot{\phi}{\beta}
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-nil}}]
   {
      \strut
   }
   {
      \rho, \annot{\exNil}{\alpha}, \alpha', \trNil \fwdSlice \annot{\exNil}{\alpha \meet \alpha'}
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-int}}]
   {
      \strut
   }
   {
      \rho, \annot{\exInt{n}}{\alpha}, \alpha', \trInt{n} \fwdSlice \annot{\exInt{n}}{\alpha \meet \alpha'}
   }
   %
   \and
   %
   \inferrule*[
      lab={\ruleName{$\fwdSlice$-cons}},
   ]
   {
      \rho, e, \alpha', T \fwdSlice v
      \\
      \rho, e', \alpha', U \fwdSlice v'
   }
   {
      \rho, \annot{(\exCons{e}{e'})}{\alpha}, \alpha', \trCons{T}{U}
      \fwdSlice
      \annot{(\exCons{v}{v'})}{\alpha \meet \alpha'}
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-matrix}}]
   {
      \rho, e', \alpha', T \fwdSlice \annot{\exPair{\annot{i'}{\beta_1}}{\annot{j'}{\beta_2}}}{\beta}
      \\
      \forall (i,j) \leq (i',j').
      \envExtend{\envExtend{\rho}{x}{i_\alpha}}{y}{j_\alpha}, e, \alpha', U_{i,j} \fwdSlice v_{i,j}
   }
   {
      \rho, \annot{\exMatrix{e'}{x}{y}{e}}{\alpha}, \alpha', \trMatrix{U_{i,j}}{x}{y}{i}{j}{T}
      \fwdSlice
      \annot{\exMatrix{\exPair{i'}{j'}}{i}{j}{v_{i,j}}}{\alpha \meet \alpha' \meet \beta_1 \meet \beta_2}
   }
   %
   \and
   %
   \inferrule*[
      lab={\ruleName{$\fwdSlice$-matrix-lookup}},
      right={$(i,j) \leq (i',j')$}
   ]
   {
      \rho, e, \alpha', T \fwdSlice \annot{\exMatrix{\exPair{i'}{j'}}{i}{j}{v_{i,j}}}{\beta}
      \\
      \rho, e', \alpha', U \fwdSlice \annot{\exPair{\annot{i}{\beta_1}}{\annot{j}{\beta_2}}}{\beta'}
      \\
      v_{i,j} = \annot{u}{\alpha^\twoPrime}
   }
   {
      \rho, \annot{(\exMatrixAccess{e}{e'})}{\alpha}, \alpha', \trMatrixAccess{T}{U}
      \fwdSlice
      \annot{u}{\alpha^\twoPrime \meet \alpha \meet \beta_1 \meet \beta_2}
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-matrix-dimensions}}]
   {
      \rho, e, \alpha', T \fwdSlice \annot{\exMatrix{\exPair{i'}{j'}}{i}{j}{v_{i,j}}}{\beta}
   }
   {
      \rho, \exMatrixSize{e}, \alpha, \trMatrixSize{T}
      \fwdSlice
      \annPair{\annot{i'}{\beta}}{\annot{j'}{\beta}}{\alpha}
   }
   %
   \and
   %
   \inferrule*[
      lab={\ruleName{$\fwdSlice$-apply}},
      right={$u = \exClosureRec{\rho'}{f}{\sigma}$}
   ]
   {
      \rho, e, \alpha, T \fwdSlice u
      \\
      \rho, e', \alpha, U \fwdSlice v
      \\
      v, w, \sigma \matchFwd \rho^\twoPrime, e^\twoPrime, \beta
      \\
      \envExtend{(\rho' \concat \rho^\twoPrime)}{f}{u}, e^\twoPrime, \beta, T' \fwdSlice v'
   }
   {
      \rho, \exApp{e}{e'}, \alpha, \trApp{T}{U}{\matchPlug{w}{T'}} \fwdSlice v'
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-apply-prim}}]
   {
      \rho, e, \alpha, T \fwdSlice \phi
      \\
      \rho, e', \alpha, U \fwdSlice \annot{m}{\beta}
   }
   {
      \rho, \exApp{e}{e'}, \alpha, \trAppPrim{T}{U}
      \fwdSlice
      \annot{\phi(m)}{\beta}
   }
   %
   \and
   %
   \inferrule*[
      lab={\ruleName{$\fwdSlice$-binary-apply}},
      right={$\primOp: \phi \in \rho$}
   ]
   {
      \rho, e, \alpha, T \fwdSlice \annInt{n}{\beta}
      \\
      \rho, e', \alpha, U \fwdSlice \annInt{m}{\beta'}
   }
   {
      \rho, \exBinaryApp{e}{\primOp}{e'}, \alpha, \trBinaryApp{T}{\primOp}{\phi}{U}
      \fwdSlice
      \annot{\exInt{\phi(n)(m)}}{\beta \meet \beta'}
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-let}}]
   {
      \rho, e, \alpha, T \fwdSlice v
      \\
      \envExtend{\rho}{x}{v}, e', \alpha, U \fwdSlice v'
   }
   {
      \rho, \exLet{x}{e}{e'}, \alpha, \trLet{x}{T}{U} \fwdSlice v'
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-let-rec}}]
   {
      \envExtend{\rho}{f}{\exClosureRec{\rho}{f}{\sigma}}, e, \alpha, T \fwdSlice v
   }
   {
      \rho, \exLetRec{f}{\sigma}{e}, \alpha, \trLetRec{f}{\sigma}{T} \fwdSlice v
   }
\end{smathpar}
\caption{Forward slicing; Boolean and pair cases omitted}
\end{figure}
