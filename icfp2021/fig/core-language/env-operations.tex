\begin{figure}[H]
\flushleft \shadebox{$\hole_{\Gamma}$}
\begin{salign}
   \hole_{\seqRange{\bind{z_1}{A_1}}{\bind{z_n}{A_n}}} &= \seqRange{\bind{x_1}{\hole}}{\bind{x_n}{\hole}}
\end{salign}
\\[2mm]

\flushleft \shadebox{$\envLookup{\rho}{z}{v}$}
\begin{smathpar}
   \inferrule*
   {
      \strut
   }
   {
      \envLookup{(\rho \concat \bind{z}{v})}{z}{v}
   }
   %
   \and
   %
   \inferrule*[
      right={$y \neq x$}
   ]
   {
      \envLookup{\rho}{x}{v}
   }
   {
      \envLookup{(\rho \concat \bind{y}{u})}{x}{v}
   }
\end{smathpar}
\\[2mm]

\flushleft \shadebox{$\mapUpdate{\rho}{z}{v} = \rho'$}
\begin{salign}
   \mapUpdate{\seqEmpty}{z}{v} &= \seqEmpty
   \\
   \mapUpdate{(\rho \concat \bind{z}{v})}{z}{u} &= \rho \concat \bind{z}{u}
   \\
   \mapUpdate{(\rho \concat \bind{z}{v})}{z'}{u} &= \mapUpdate{\rho}{z'}{u} \concat \bind{z}{v}
   \quad (z \neq z')
\end{salign}
\caption{Hole environment, environment lookup and environment update}
\end{figure}
