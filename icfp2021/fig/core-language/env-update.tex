\begin{figure}[H]
\flushleft \shadebox{$\envUpdate{\rho}{k}{v}$}
\begin{salign}
   \envUpdate{\envEmpty}{k}{v} &= \envEmpty
   \\
   \envUpdate{\envExtend{\rho}{k}{v}}{k}{v'} &= \envExtend{\rho}{k}{v'}
   \\
   \envUpdate{\envExtend{\rho}{k}{v}}{k'}{v'} &= \envExtend{\envUpdate{\rho}{k'}{v'}}{k}{v}
   \quad (k \neq k')
\end{salign}
\caption{Environment update}
\end{figure}
