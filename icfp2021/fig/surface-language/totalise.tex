

\begin{figure}[H]
\flushleft \shadebox{totalise $\kappa \ \kappa'$}
\begin{smathpar}
\inferrule*[
   lab={\ruleName{expression}}
]
{
   \strut
}
{
   \totalise{e}{e}
}
\and
%
\inferrule*[
   lab={\ruleName{elim-var}}
]
{
   \totalise{\kappa}{\kappa'}
}
{
   \totalise{\elimVar{x}{\kappa}}{\elimVar{x}{\kappa'}}
}
\and
%
\inferrule*[
   lab={\ruleName{elim-true}}
]
{
   \totalise{\kappa}{\kappa'}
}
{
   \totalise{\elimBoolTrue{\kappa}}{\elimBool{\kappa'}{\exNil}}
}
\and
%
\inferrule*[
   lab={\ruleName{elim-false}}
]
{
   \totalise{\kappa}{\kappa'}
}
{
   \totalise{\elimBoolFalse{\kappa}}{\elimBool{\exNil}{\kappa'}}
}
\and
%
\inferrule*[
   lab={\ruleName{elim-prod}}
]
{
   \totalise{\sigma}{\sigma'}
}
{
   \totalise{(\elimProd{\sigma})}{(\elimProd{\sigma'})}
}
\and
%
\inferrule*[
   lab={\ruleName{elim-nil}}
]
{
   \totalise{\kappa}{\kappa'}
}
{
   \totalise{\elimNil{\kappa}}{\elimList{\branchNil{\kappa'}}{\branchCons{x \mapsto y \mapsto \exNil}}}
}
\and
%
\inferrule*[
   lab={\ruleName{elim-cons}}
]
{
   \totalise{\sigma}{\sigma'}
}
{
   \totalise{\elimCons{\sigma}}{\elimList{\branchNil{\exNil}}{\branchCons{\sigma'}}}
}
\end{smathpar}
\caption{Totalise}
\end{figure}
