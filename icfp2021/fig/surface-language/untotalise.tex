\begin{figure}[H]
\flushleft\shadebox{untotalise $(\kappa, p) = \kappa'$}
\begin{salign}
   \untotalise{\elimVar{x}{\kappa}}{x} &= \elimVar{x}{\kappa}
   \\
   \untotalise{\elimBool{\kappa_1}{\kappa_2}}{\pattTrue} &= \elimBoolTrue{\kappa_1}
   \\
   \untotalise{\elimBool{\kappa_1}{\kappa_2}}{\pattFalse} &= \elimBoolFalse{\kappa_2}
   \\
   \untotalise{\elimProd{\sigma}}{\pattPair{p}{p'}} &= \elimProd{\untotalise{\untotalise{\sigma}{p}}{p'}}
   \\
   \untotalise{\elimList{\branchNil{\kappa}}{\branchCons{\sigma}}}{\pattNil} &= \elimListSingleton{\branchNil{\kappa}}
   \\
   \untotalise{\elimList{\branchNil{\kappa}}{\branchCons{\sigma}}}{\pattCons{p}{p'}} &= \elimListSingleton{\branchCons{\untotalise{\untotalise{\sigma}{p}}{p'}}}
   \\
   \untotalise{\elimList{\branchNil{\kappa}}{\branchCons{\sigma}}}{\pattList{p}{o}} &=  \elimListSingleton{\branchCons{\untotalise{\untotalise{\sigma}{p}}{o}}}
\end{salign}

\flushleft\shadebox{untotalise $(\kappa, o) = \kappa'$}
\begin{salign}
   \untotalise{\elimList{\branchNil{\kappa}}{\branchCons{\sigma}}}{\pattSNil} &= \elimListSingleton{\branchNil{\kappa}}
   \\
   \untotalise{\elimList{\branchNil{\kappa}}{\branchCons{\sigma}}}{\pattSCons{p}{o}} &= \elimListSingleton{\branchCons{\untotalise{\untotalise{\sigma}{p}}{o}}}
\end{salign}
\caption{Untotalise}
\end{figure}

