\begin{figure}
\flushleft\shadebox{untotalise p $\sigma = \kappa$}
\begin{salign}
   \untotalise{x}{\{ x \mapsto \kappa \}} &= \kappa
   \\
   \untotalise{\pattTrue}{\{\exTrue \mapsto \kappa, \exFalse \mapsto \kappa'\}} &= \kappa
   \\
   \untotalise{\pattFalse}{\{\exTrue \mapsto \kappa, \exFalse \mapsto \kappa'\}} &= \kappa'
   \\
   \untotalise{\pattPair{p_1}{p_2}}{\langle p_1 \mapsto p_2 \mapsto \kappa \rangle} &= \kappa
   \\
   \untotalise{\pattNil}{\elimList{\exNil \mapsto \kappa}{\kw{(:)} \ \sigma}} &= \kappa
   \\
   \untotalise{\pattCons{p}{p'}}{\elimList{\exNil \mapsto \kappa}{\kw{(:)} \ \{s \mapsto s' \mapsto \kappa'\}}} &= \kappa'
   \\
   \untotalise{\pattList{p}{o}}{\{\exNil \mapsto \kappa, \kw{(:)} \ \{s \mapsto s' \mapsto \kappa'\}\}} &= \kappa'
\end{salign}

\caption{Extract branch body from eliminator}
\end{figure}
