

\begin{figure}[H]
\flushleft \shadebox{$\totalise{\kappa}{\alpha}{\kappa}'$}
\begin{smathpar}
\inferrule*[
   lab={\ruleName{expr}}
]
{
   \strut
}
{
   \totalise{e}{\alpha}{e}
}
\and
%
\inferrule*[
   lab={\ruleName{elim-var}}
]
{
   \totalise{\kappa}{\alpha}{\kappa'}
}
{
   \totalise{\elimVar{x}{\kappa}}{\alpha}{\elimVar{x}{\kappa'}}
}
\and
%
\inferrule*[
   lab={\ruleName{elim-true}}
]
{
   \totalise{\kappa}{\alpha}{\kappa'}
}
{
   \totalise{\elimBoolTrue{\kappa}}{\alpha}{\elimBool{\kappa'}{\annot{\exNil}{\alpha}}}
}
\and
%
\inferrule*[
   lab={\ruleName{elim-false}}
]
{
   \totalise{\kappa}{\alpha}{\kappa'}
}
{
   \totalise{\elimBoolFalse{\kappa}}{\alpha}{\elimBool{\annot{\exNil}{\alpha}}{\kappa'}}
}
\and
%
\inferrule*[
   lab={\ruleName{elim-prod}}
]
{
   \totalise{\sigma}{\alpha}{\sigma'}
}
{
   \totalise{\elimProd{\sigma}}{\alpha}{\elimProd{\sigma'}}
}
\and
%
\inferrule*[
   lab={\ruleName{elim-nil}}
]
{
   \totalise{\kappa}{\alpha}{\kappa'}
}
{
   \totalise{\elimNil{\kappa}}
            {\alpha}
            {\elimList{\branchNil{\kappa'}}{\branchCons{\elimVar{x}{\elimVar{y}{\annot{\exNil}{\alpha}}}}}}
}
\and
%
\inferrule*[
   lab={\ruleName{elim-cons}}
]
{
   \totalise{\sigma}{\alpha}{\sigma'}
}
{
   \totalise{\elimCons{\sigma}}{\alpha}{\elimList{\branchNil{\annot{\exNil}{\alpha}}}{\branchCons{\sigma'}}}
}
\end{smathpar}
\caption{Totalise -- forward slicing}
\end{figure}
