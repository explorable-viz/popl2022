\begin{figure}[p]
\flushleft \shadebox{$\rho, e, \alpha \fwdSlice v$}
\begin{smathpar}
   \inferrule*[lab={\ruleName{$\fwdSlice$-expr-$\true$}}]
   {
      \explVal{T}{\rho, r, \alpha \fwdSlice v}
   }
   {
      \explVal{T}{\rho, \annot{r}{\true}, \alpha \fwdSlice v}
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-expr-$\false$}}]
   {
      \strut
   }
   {
      \explVal{T}{\rho, \annot{r}{\false}, \alpha \fwdSlice \false_{v}}
   }
\end{smathpar}
\\
\flushleft \shadebox{$\rho, r, \alpha \fwdSlice v$}
\begin{smathpar}
   \inferrule*[
      lab={\ruleName{$\fwdSlice$-var}},
      right={\textnormal{$x: v \in \rho$}}
   ]
   {
      \strut
   }
   {
      \explVal{\trVarOne{x}}{\rho, \exVar{x}, \alpha \fwdSlice v}
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-int}}]
   {
      \strut
   }
   {
      \explVal{\trInt{n}}{\rho, \exInt{n}, \alpha \fwdSlice \annot{\exInt{n}}{\alpha}}
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-pair}}]
   {
      \explVal{T}{\rho, e, \alpha \fwdSlice v}
      \\
      \explVal{T'}{\rho, e', \alpha \fwdSlice v'}
   }
   {
      \explVal{\trPair{T}{T'}}{\rho, \exPair{e}{e'}, \alpha \fwdSlice \annot{\exPair{v}{v'}}{\alpha}}
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-fun}}]
   {
      \strut
   }
   {
      \explVal
         {\trRec{f}{\sigma}}
         {\rho, \exRec{f}{\sigma}, \alpha \fwdSlice \annot{\exClosureRec{\rho}{f}{\sigma}}{\alpha}}
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-apply}}]
   {
      \explVal{T}{\rho, e, \alpha \fwdSlice \annot{\exClosureRec{\rho'}{f}{\sigma}}{\alpha'}}
      \\
      \explVal{T'}{\rho, e', \alpha \fwdSlice v}
      \\\\
      v, \sigma \match \rho^\twoPrime, \matchPlug{\xi}{e^\twoPrime}, \alpha^\twoPrime
      \\
      \explVal
         {U}
         {\envExtend{(\rho' \concat \rho^\twoPrime)}{f}{\annot{\exClosureRec{\rho'}{f}{\sigma}}{\alpha'}}, e^\twoPrime, \alpha^\twoPrime \fwdSlice v'}
   }
   {
      \explVal{\trApp{T}{T'}{\matchPlug{\xi}{U}}}{\rho, \exApp{e}{e'}, \alpha \fwdSlice v'}
   }
   %
   \and
   %
   \inferrule*[
      lab={\ruleName{$\fwdSlice$-add}}
   ]
   {
      \explVal{T}{\rho, e, \alpha \fwdSlice \annot{m}{\alpha'}}
      \\
      \explVal{T'}{\rho, e', \alpha \fwdSlice \annot{n}{\smash{\alpha^\twoPrime}}}
   }
   {
      \explVal
         {\trAdd{T}{T'}}
         {\rho, \exAdd{e}{e'}, \alpha,
          \fwdSlice
          \annot{(m \mathbin{\hat{+}} n)}{\smash{\alpha \wedge \alpha' \wedge \alpha^\twoPrime}}}
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-nil}}]
   {
      \strut
   }
   {
      \explVal{\trNil}{\rho, \exNil, \alpha \fwdSlice \annot{\exNil}{\alpha}}
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-cons}}]
   {
      \explVal{T}{\rho, e, \alpha \fwdSlice v}
      \\
      \explVal{T'}{\rho, e', \alpha \fwdSlice v'}
   }
   {
      \explVal{\trCons{T}{T'}}{\rho, \exCons{e}{e'}, \alpha \fwdSlice \annot{\exCons{v}{v'}}{\alpha}}
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\fwdSlice$-let}}]
   {
      \explVal{T}{\rho, e, \alpha \fwdSlice v}
      \\
      \explVal{T'}{\envExtend{\rho}{x}{v}, e', \alpha \fwdSlice v'}
   }
   {
      \explVal{\trLet{x}{T}{T'}}{\rho, \exLet{x}{e}{e'}, \alpha \fwdSlice v'}
   }
\end{smathpar}
\caption{Forward slicing}
\end{figure}
