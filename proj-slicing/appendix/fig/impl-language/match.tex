\begin{figure}
\flushleft \shadebox{$v, \sigma \match \rho, \matchPlugLow{\xi}{\kappa}$}
\begin{smathpar}
   \inferrule*[lab={\ruleName{$\match$-var}}]
   {
      \strut
   }
   {
      v, \elimVar{x}{\kappa} \match \envExtend{\envEmpty}{x}{v}, \matchVarLow{x}{\kappa}
   }
   \\
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\match$-true}}]
   {
      \strut
   }
   {
      \exTrue, \elimBool{\kappa}{\kappa'}
      \match
      \envEmpty, \matchTrueLow{\kappa}
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\match$-false}}]
   {
      \strut
   }
   {
      \exFalse, \elimBool{\kappa}{\kappa'}
      \match
      \envEmpty, \matchFalseLow{\kappa'}
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\match$-pair}}]
   {
      u, \sigma \match \rho_1, \matchPlugLow{\xi}{\tau}
      \\
      v, \tau \match, \rho_2, \matchPlugLow{\xi'}{\kappa}
   }
   {
      \exPair{u}{v}, \elimProd{\sigma}
      \match
      \rho_1 \concat \rho_2, \matchProdLow{\xi}{\xi'}{\kappa}
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\match$-nil}}]
   {
      \strut
   }
   {
      \exNil, \elimList{\branchNil{\kappa}}{\branchConsNew{\sigma}}
      \match
      \envEmpty, \matchNilLow{\kappa}
   }
   %
   \and
   %
   \inferrule*[lab={\ruleName{$\match$-cons}}]
   {
      u, \sigma \match \rho_1, \matchPlugLow{\xi}{\tau}
      \\
      v, \tau \match \rho_2, \matchPlugLow{\xi'}{\kappa'}
   }
   {
      \exCons{u}{v}, \elimList{\branchNil{\kappa}}{\branchConsNew{\sigma}}
      \match
      \rho_1 \concat \rho_2,
      \matchConsNewLow{\matchProdLow{\xi}{\xi'}{\kappa'}}
   }
\end{smathpar}
\caption{Pattern-matching}
\end{figure}
