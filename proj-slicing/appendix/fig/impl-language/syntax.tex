\begin{figure}
\begin{syntaxfig}
\mbox{Type}
&
A, B
&
::=
&
\tyBool
&
\text{Booleans}
\\
&&&
\tyInt
&
\text{integers}
\\
&&&
\tyProd{A}{B}
&
\text{pairs}
\\
&&&
\tyList{\tyInt}
&
\text{lists of integers}
\\
&&&
\tyFun{A}{B}
&
\text{functions}
\\[2mm]
\mbox{Identifier}
&
x
\\[2mm]
\mbox{Primitive name}
&
\primOp
\\[2mm]
\mbox{Context}
&
\Gamma
&
::=
&
\cxtEmpty
&
\text{empty}
\\
&&&
\cxtExtend{\Gamma}{x}{A}
&
\text{extend}
\\[2mm]
\mbox{Branch}
&
\kappa
&
::=
&
e
&
\text{term}
\\
&&&
\sigma
&
\text{eliminator}
\\[2mm]
\mbox{Eliminator}
&
\sigma, \tau
&
::=
&
\elimVar{x}{\kappa}
&
\text{variable}
\\
&&&
\elimBool{\kappa}{\kappa'}
&
\text{Boolean}
\\
&&&
\{\exTrue \mapsto \kappa\}
\\
&&&
\{\exFalse \mapsto \kappa\}
\\
&&&
\elimProd{\sigma}
&
\text{pair}
\\
&&&
\elimList{\branchNil{\kappa}}{\branchCons{\sigma}}
&
\text{list}
\\
&&&
\{\branchNil{\kappa}\}
\\
&&&
\{\branchCons{\sigma}\}
\\[2mm]
\mbox{Selection state}
&
\alpha
&
::=
&
\top
&
\text{selected}
\\
&&&
\bot
&
\text{unselected}
\\[2mm]
\mbox{Raw term}
&
r
&
::=
&
x
&
\text{variable}
\\
&&&
\exTrue \mid \exFalse
&
\text{Boolean}
\\
&&&
\exInt{n}
&
\text{integer}
\\
&&&
\exPair{e}{e'}
&
\text{pair}
\\
&&&
\exRec{f}{\sigma}
&
\text{recursive function}
\\
&&&
\exApp{e}{e'}
&
\text{apply}
\\
&&&
\exBinaryApp{e}{\primOp}{e'}
&
\text{infix primitive}
\\
&&&
\exNil
&
\text{nil}
\\
&&&
\exCons{e}{e'}
&
\text{cons}
\\
&&&
\exLet{x}{e}{e'}
&
\text{let}
\\[2mm]
\mbox{Term}
&
e
&
::=
&
\annot{r}{\alpha}
\end{syntaxfig}
\caption{Syntax}
\end{figure}
