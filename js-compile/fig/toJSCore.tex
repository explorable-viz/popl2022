\begin{figure}[H]
   \begin{salign}
      \toJSCore{\defDatatype{x}{\vec{\defConstr{c}{n}}}}
      &=
      \jsClass{x}{}
      \symSemi\,
      \seqRangeSemi{\toJSCore{\defConstr{c_1}{n_1}}}{\toJSCore{\defConstr{c_i}{n_i}}}
   \end{salign}
   \\[2mm]
   \begin{salign}
      \toJSCoreConstr{x}{\defConstr{c}{n}}
      &=
      \begin{array}[t]{l}
      \jsClassSuper{c}{x}{
         \alpha
         \symSemi\,
         \seqRangeSemi{\kw{val1}}{\kw{val}n}
         \symSemi\,
         \jsConstr{\seqRangeSemi{\kw{x1}}{\kw{x}n}}{\seqRangeSemi{S_1}{S_n}}
      }
      \\
      \textit{where }
      S_i = \jsAssign{\jsFieldAccess{\jsThis}{\kw{val}i}}{\kw{x}i}
      \end{array}
   \end{salign}
   \\[2mm]
   \flushleft\shadebox{
      \small$\toJSCoreFwd{\param}{\param}: \Expr{A} \times \Dict \to \JSExpr{(\jsTyFun{\toJSCore{A}}{\toJSCore{A}})}$
   }
   \begin{salign}
      \toJSCoreFwd{\rho}{\exInt{n}} &=
      \jsAnonFun{x}{x}
      \\
      \toJSCoreFwd{\rho}{\exVar{x}} &=
      \jsFieldAccess{\rho}{x}
      \\
      \toJSCoreFwd{\rho}{\exConstr{c}{\vec{e}}} &=
      \jsAnonFun{x}{
         \jsNewObj{c}{
            \jsFieldAccess{x}{\jsVar{\alpha}}
            \symComma
            \seqRange
               {\jsFunCall{\toJSCoreFwd{\rho}{e_1}}{\jsFieldAccess{x}{\kw{val1}}}}
               {\jsFunCall{\toJSCoreFwd{\rho}{e_n}}{\jsFieldAccess{x}{\kw{val}n}}}
         }
      }
      \\
      \toJSCoreFwd{\rho}{\exLambda{\sigma}}
      &=
      \toJSCoreFwd{\rho}{\sigma}
      \\
      \toJSCoreFwd{\rho}{\exApp{e}{e'}}
      &=
      \jsFunCall{\toJSCoreFwd{\rho}{e}}{\toJSCoreFwd{\rho}{e'}}
   \end{salign}
   \\[2mm]
   \flushleft\shadebox{
      \small$\toJSCoreFwd{\param}{\param}: \Elim{A}{B} \times \Dict \to \JSExpr{(\jsTyFun{\toJSCore{A}}{\toJSCore{B}})}$
   }
   \begin{salign}
      \toJSCoreFwd{\rho}{\elimVar{x}{\kappa}}
      &=
      \jsAnonFun{\jsVar{y}}{
         \toJSCoreFwd{\jsObjLiteral{\jsSpread{\rho}\symComma \jsFieldInit{\jsVar{x}}{\jsVar{y}}}}{\kappa}
      }
      \\
      \toJSCoreFwd{\rho}{\elimConstr{\vec{\branch{c}{\kappa}}}}
      &=
      \begin{array}[t]{l}
         \jsAnonFun{x}{\jsBlock{\vec{S}}}
         \\
         \textit{where }S_i
         =
         \jsIf{\jsInstanceOf{\jsVar{x}}{\jsVar{c}_i}}{\jsReturn{
             \seqRange{\jsFunCall{\toJSCoreFwd{\rho}{\kappa_i}}{\jsFieldAccess{x}{\kw{val1}}}}
                      {\symParens{\jsFieldAccess{x}{\kw{val}n_i}}}
         }}
      \end{array}
   \end{salign}
   \caption{\JSCore interpretation of \OurLanguage}
\end{figure}
