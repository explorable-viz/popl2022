\section{A bidirectional dynamic dependency analysis}
\label{sec:data-dependencies}

We now extend the core language from \secref{core-language} with a bidirectional mechanism for tracking data dependencies. \secref{data-dependencies:lattices-of-selections} establishes a way of selecting (parts of) values, such as the height of a bar in a bar chart. \secref{data-dependencies:analyses:fwd} defines a forward analysis function $\evalFwdF{T}$ which specifies how selections on programs and environments (collectively: \emph{input selections}) become selections on outputs; selections represent \emph{availability}, with the computed output selection indicating the data available to the downstream computation. \secref{data-dependencies:analyses:bwd} defines a backward dependency function $\evalBwdF{T}$ specifying how output selections are mapped back to inputs; then selections represent demands, with the computed input selection identifying the data needed from the upstream computation. Both functions are monotonic; this will become important in \secref{data-dependencies:galois-connections}, where show that $\evalBwdF{T}$ and $\evalFwdF{T}$ form a Galois connection, establishing the round-tripping properties sketched intuitively in \secref{introduction:data-linking} which are important for trusting the results of the analyses.

\input{sec/data-dependencies/selections}
\input{sec/data-dependencies/analyses}
