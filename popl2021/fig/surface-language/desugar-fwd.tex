\begin{figure}[H]
\flushleft \shadebox{$s \dfwdarrow e, s'$}
\begin{smathpar}
\inferrule*[lab={\ruleName{$\dfwdarrow$-list-comp-gen}}]
{
   \exListComp{s}{\overrightarrow{q}} \dfwdarrow e
   \\
   \{ p \mapsto e \}, \kw{Nil} \tarrow \sigma_{p e}
   \\
   s' \dfwdarrow e'
}
{
   \exListComp{s}{\qualGenerator{p}{s'}, \overrightarrow{q}}
   \dfwdarrow
   \exLet{f}{\exLambda{\sigma_{p e}}}{\kw{concatMap} \ \kw{f} \ e'}, \exListComp{s}{\qualGenerator{p}{s'}, \overrightarrow{q}}
}
\end{smathpar}
\caption{Desugaring - Forward Slicing}
\end{figure}
